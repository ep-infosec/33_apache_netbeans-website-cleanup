<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<!--
Copyright (c) 2009, 2010, Oracle and/or its affiliates. All rights reserved.
-->

<html>
<head>`
   <title>Java ME MIDP 開発のクイックスタートガイド - NetBeans IDE チュートリアル</title>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" >
   <link rel="stylesheet" type="text/css" href="../../../netbeans.css">
   <meta name="author" content="">
</head>
<body>
<h1>Java ME MIDP 開発のクイックスタートガイド</h1>
<p>このチュートリアルでは、NetBeans IDE を使用して、Java&trade; Platform Micro Edition (Java&trade; ME プラットフォーム) の MIDP (Mobile Information Device Profile) アプリケーションを作成する手順を概説します。このチュートリアルは、できるだけすばやくモバイルアプリケーション開発を始められるように作られています。このチュートリアルでは、プロジェクトシステムを使用した基本的な作業手順の一部を学ぶことができます。デバイスエミュレータに「Make My Day」というテキストを表示する、「MyHello」という名前の Java ME MIDP プロジェクトを作成する 2 通りの方法を示します。このチュートリアルを終了すると、IDE が備えている CLDC/MIDP アプリケーション開発用のほかの機能を使用する準備が整います。</p>
 <!--<p class="notes"><b>注:</b> NetBeans IDE 6.8 を使用している場合は、「<a href="../../68/javame/quickstart.html">NetBeans IDE 6.8 Java ME MIDP 開発のクイックスタートガイド</a>」を参照してください。</p>-->
<h3>目次</h3>
<img  src="../../../images_www/articles/69/netbeans-stamp-69-70-71.png" class="stamp"  
alt="このページの内容は NetBeans IDE 6.9 以降が対象です" 
title="このページの内容は NetBeans IDE 6.9 以降が対象です"  />

<ul>
<li><a href="#reqs" title="チュートリアルの要件">チュートリアルの要件</a></li>
<li><a href="#vmd" title="VMD を使用したアプリケーションの作成">ビジュアルモバイルデザイナを使用したアプリケーションの作成</a></li>
<li><a href="#source" title="ソースエディタを使用したアプリケーションの作成">ソースエディタを使用したアプリケーションの作成</a></li>
<li><a href="#nextsteps" title="次の手順">次の手順</a></li>
</ul>
<h2><a name="reqs"></a>要件</h2>
<p><b>このチュートリアルを完了するには、次のソフトウェアとリソースが必要です。</b></p>

<table>
        <tbody>
            <tr>
                <th class="tblheader" scope="col">ソフトウェアまたはリソース</th>
                <th class="tblheader" scope="col">必須バージョン</th>
            </tr> 
            <tr>
                <td class="tbltd1"><a href="https://netbeans.org/downloads/index.html" target="_blank">NetBeans IDE と Java ME</a></td>
                <td class="tbltd1">version 6.9 以降 </td>
            </tr>
            <tr>
                <td class="tbltd1"><a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html" target="_blank">Java Development Kit</a> (JDK)</td>
                <td class="tbltd1">Version 6 または 7 </td>
            </tr>      
        </tbody>
</table>
<br>
<p><b class="notes">注</b>: IDE にバンドルされているエミュレータは、ダウンロードしたオペレーティングシステムインストーラによって異なります。</p>
    <ul>
      <li>NetBeans 6.7 以降の Windows ディストリビューションには、Java ME SDK 3.0 がバンドルされています。</li>
      <li>NetBeans IDE の Linux ディストリビューションには、Sun Java Wireless Toolkit 2.5.2 がバンドルされています。</li>
      <li>NetBeans 6.9 の MacOS X バージョンには、Java ME SDK 3.0 for CLDC がバンドルされています。</li>
    </ul>

<h2><a name="vmd"></a>ビジュアルモバイルデザイナを使った MIDP アプリケーションの作成</h2>
<p>NetBeans IDE には、MIDP プロジェクトを簡単に作成できるウィザードがあります。プロジェクトの作成時に、アプリケーションの開発にビジュアルモバイルデザイナ (VMD) を使用するか、またはソースコードエディタを使用するかを、選択できます。VMD を使用すると、視覚的にアプリケーションのフローを計画し、そのアプリケーションで使う画面をデザインできます。VMD では、アプリケーションのコードが自動的に作成され、変更がデザインキャンバス上に保存されます。 </p>
<h3 class="tutorial">MIDP/CLDC アプリケーションの作成 </h3>
<ol>
<li>「<tt>ファイル</tt>」&gt;「<tt>新規プロジェクト</tt>」(Ctrl+Shift+N) を選択します。「カテゴリ」から「<tt>Java ME</tt>」を選択します。「プロジェクト」で「<tt>モバイルアプリケーション</tt>」を選択して、「次へ」をクリックします。</li>
<li>「プロジェクト名」フィールドに <code>MyHello </code> と入力します。デフォルトのプロジェクトの場所を使用するか、システム上の任意のディレクトリに変更します。このチュートリアルでは、このディレクトリを <code>$PROJECTHOME</code> と表記します。 </li>
<li>「<tt>主プロジェクトとして設定</tt>」と「<tt>Hello MIDlet を作成</tt>」の各チェックボックスをオンにします (どちらもデフォルトでオンになっています)。「次へ」をクリックします。 </li>
<li>エミュレータプラットフォームはデフォルト設定を選択し、残りもデフォルト設定を使用します。「完了」をクリックします。 </li>
<!--li><a name="template"></a>Expand &quot;Configuration templates provided by 
installed CLDC platforms&quot; and &quot;Sun Java  Wireless Toolkit 2.52 for CLDC &quot; 
folders. Check the boxes next to each of the configurations. 
The IDE automatically creates a new project configuration for each template 
listed.
-->

<li><code>$PROJECTHOME/MyHello </code> プロジェクトフォルダが作成されます。このプロジェクトフォルダには、ソースおよび、プロジェクトの Ant スクリプトなどのプロジェクトメタデータのすべてが含まれます。アプリケーション自体はビジュアルモバイルデザイナの「フローデザイン」ウィンドウに表示されます。</li>
<p><img src="../../../images_www/articles/71/mobility/quickstart/newjavameproject.png" alt="IDE での Hello Midlet の「フロー」ビュー" width="608" height="374"></p>
<p>注: 使用可能なパレットコンポーネントの詳細については、<a href="http://wiki.netbeans.org/VisualMobileDesignerPalatteReference">ビジュアルモバイルデザイナのパレットのリファレンス</a>を参照してください。</p>
</ol>
<h3 class="tutorial">Java ソースコードの編集</h3>
<p>ここで、MIDlet によって表示されるテキストを編集します。</p>
<ol>
<li>「<tt>HelloMIDlet.java</tt>」の下の「画面」をクリックすると、スクリーンデザイナのウィンドウが開いて「デバイス画面」が表示されます。この画面は、このアプリケーションで利用できる唯一の画面です。 </li>
<li>「デバイス画面」の「<tt>Hello World!</tt>」メッセージをクリックします。「プロパティー」ウィンドウで、「<tt>Hello World!</tt>」テキストをクリックしてウェルカムメッセージテキストを変更し、Enter を押します。この例では「<tt>Make my day</tt>」と入力しました。</li>
<p><img src="../../../images_www/articles/71/mobility/quickstart/stringedit.png" alt="「プロパティー」ウィンドウの「テキスト」フィールドに「Make my day」と入力したところ" ></p>
<li>「テキスト」フィールドに入力したテキストのプレビューが「画面」ビューに表示されます。</li>
<p><img src="../../../images_www/articles/71/mobility/quickstart/motd-screen.png" alt="VMD の「画面」ビュー内のデバイス画面のプレビューにテキスト「Make my day」が表示されたところ" ></p>
</ol>
<h3 class="tutorial">プロジェクトのコンパイルと実行</h3>
<ol>
<li>「実行」メニューから「<tt>実行</tt>」&gt;「<tt>主プロジェクトを実行</tt>」(F6) を選択します。「出力」ウィンドウで、プロジェクトのコンパイルの進行状況を確認します。<code>HelloMIDlet.java</code> ファイルが構築されてから実行されます。デバイスエミュレータが開いて、MIDlet の実行結果が表示されます。デバイスエミュレータが MIDlet を起動し、ソースコードに入力されたテキストを表示します。</li>
  <p><strong>ヒント</strong>: MIDlet を実行するエミュレータを指定するには、プロジェクトノードを右クリックし、コンテキストメニューから「<tt>指定して実行...</tt>」を選択します。Java ME SDK 3.0 で利用できる「<tt>DefaultFXPhone1</tt>」は、次のように表示されます。</p>
  <p><img src="../../../images_www/articles/71/mobility/quickstart/motd-emulator.png" alt="Java ME SDK JavaFX 電話機エミュレータで「Make my day」メッセージが表示された状態"></p>
<li>「Exit」の下のボタンをクリックして、MIDlet を閉じます。デバイスの右上隅のボタンをクリックして、エミュレータのウィンドウを閉じます。 </li>
</ol>
</div>

<h2><a name="source"></a>ソースエディタを使った MIDP アプリケーションの作成</h2>
<div class="indent">
<p>ソースコードエディタを使用すると、MIDlet のコードを手動で作成できます。ソースコードエディタでコードを作成すると、より柔軟にコードを編集したり、プリプロセッサコードブロックを挿入したりできます。ここでは、「新規プロジェクト」ウィザードと「新規ファイル」ウィザードを使用して <code>MyHello</code> アプリケーションを作成し、ソースエディタを使用してコードを完成させます。 </p>

<h3 class="tutorial">Java ME MIDP プロジェクトの新規作成 </h3>
<ol>
<li>「<tt>ファイル</tt>」&gt;「<tt>新規プロジェクト</tt>」(Ctrl-Shift-N) を選択します。「カテゴリ」から「<tt>Java ME</tt>」を選択します。「プロジェクト」で「<tt>モバイルアプリケーション</tt>」を選択して、「次へ」をクリックします。</li>
<li>「プロジェクト名」フィールドに <code>MyHelloMIDlet</code> と入力します (「MID」はすべて大文字)。先に作成された <a href="#vmd"><code>MyHello</code></a> プロジェクトについて指定したものとは異なる「プロジェクトの場所」を指定します。このチュートリアルでは、このディレクトリを <code>$PROJECTHOME</code> と表記します。 </li>
<li>「主プロジェクトとして設定」チェックボックスを選択し、「Hello MIDlet を作成」チェックボックスを選択解除します。「次へ」をクリックします。 </li>
<li>デフォルトのエミュレータプラットフォームを選択し、残りもデフォルト設定を使用します。「完了」をクリックします。 </li>
<!--li>Expand &quot;Configuration templates provided by installed CLDC platforms&quot; and &quot;Sun Java Wireless Toolkit 2.52 for CLDC &quot; folders. Check the boxes next to each of the configurations. The IDE automatically creates a new project configuration for each template listed. </li-->
<li><code>$PROJECTHOME/MyHelloMIDlet </code> プロジェクトフォルダが作成されます。このプロジェクトフォルダには、ソースおよび、プロジェクトの Ant スクリプトなどのプロジェクトメタデータのすべてが含まれます。 </li>
<li>エクスプローラウィンドウで「<code>MyHelloMIDlet</code>」ノードを右クリックし、「<tt>新規</tt>」&gt;「<tt>MIDlet</tt>」を選択します。</li>
<li>MIDlet 名として「<code>HelloMIDlet</code>」と入力します (「MID」はデフォルトで大文字ではありません)。「完了」をクリックします。<code>HelloMIDlet.java</code> ファイルが作成され、ソースコードが IDE のエディタウィンドウに表示されます。 </li>
<li>ソースエディタ内をクリックして、次の部分を 
<pre class="examplecode">public class HelloMIDlet extends MIDlet</pre>

次のように変更します。 
<pre class="examplecode">public class HelloMIDlet
extends MIDlet implements javax.microedition.lcdui.CommandListener
{</pre>
</li>
<li><code>startApp() </code> メソッドの前に次のテキストを追加します。 
<pre class="examplecode">
    private void initialize() {
        javax.microedition.lcdui.Display.getDisplay(this).setCurrent(get_helloTextBox());
    }

    public void commandAction(javax.microedition.lcdui.Command command, javax.microedition.lcdui.Displayable displayable) {
        if (displayable == helloTextBox) {
            if (command == exitCommand) {
                javax.microedition.lcdui.Display.getDisplay(this).setCurrent(null);
                destroyApp(true);
                notifyDestroyed();
            }
        }
    }

    private javax.microedition.lcdui.TextBox get_helloTextBox() {
        if (helloTextBox == null) {
            helloTextBox = new javax.microedition.lcdui.TextBox(null, &quot;Hello Test Code&quot;, 120, 0x0);
            helloTextBox.addCommand(get_exitCommand());
            helloTextBox.setCommandListener(this);
        }
        return helloTextBox;
    }

    private javax.microedition.lcdui.Command get_exitCommand() {
        if (exitCommand == null) {
            exitCommand = new javax.microedition.lcdui.Command(&quot;Exit&quot;, javax.microedition.lcdui.Command.EXIT,
                    1);
        }
        return exitCommand;
    }
    javax.microedition.lcdui.TextBox helloTextBox;
    javax.microedition.lcdui.Command exitCommand;
</pre>
</li>
<li>次のように <code>startApp()</code> メソッドに <code>initialize();</code> 行を追加します。 
<pre class="examplecode">  public void startApp() {
   initialize();
}
</pre>
</ol>
<h3 class="tutorial">Java ソースコードの編集</h3>
<p>MIDlet で表示するテキストを追加してみます。</p>
<ol>
<li><code>get_helloTextBox()</code> メソッドで、例にあるコード「Hello Test Code」を任意のテキストに置き換えます。たとえば、「Make My Day」にします。
</ol>
<!--<p><b class="notes">注:</b> NetBeans の Java ソースエディタの詳しい使用方法については、「<a href="../../67/java/editor-tips.html">NetBeans IDE でのソースの編集</a>」を参照してください。</p>-->

<h3 class="tutorial">プロジェクトのコンパイルと実行</h3>
<ol>
<li>「実行」メニューから「<tt>実行</tt>」&gt;「<tt>主プロジェクトを実行</tt>」(F6) を選択します。「出力」ウィンドウで、プロジェクトのコンパイルの進行状況を確認します。<code>HelloMIDlet.java</code> ファイルが構築されてから実行されます。デバイスエミュレータが開いて MIDlet の実行結果が表示され、ソースコードに入力したテキストが表示されます。</li>
<p><img src="../../../images_www/articles/71/mobility/quickstart/mmd-emulator.png" alt="Java ME SDK 3.0 CLDC Clamshell エミュレータで「Make My Day」メッセージが表示された状態"></p>
</ol>
</div>

<div class="feedback-box"><a href="/about/contact_form.html?to=6&subject=NetBeans%20MIDP%20Development%20Quick%20Start%20Guide">ご意見をお寄せください</a></div>
<br style="clear:both;" />
<h2><a name="nextsteps"></a>次の手順 </h2>

<p>MIDP および CLDC アプリケーションの開発方法を紹介する追加のチュートリアルについては、「モバイルアプリケーションの学習」を参照してください。</p>
<ul>
<li><a href="../../trails/mobility.html">NetBeans IDE Java ME の学習</a></li>
</ul>
</body>
</html>