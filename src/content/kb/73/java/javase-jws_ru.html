<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--
Copyright (c) 2009, 2010, 2011, Oracle and/or its affiliates. All rights reserved.
-->

<html>
    <head>
        <meta http-equiv="content-type" content="text/html; charset=UTF-8">
        <meta name="description" content="A short guide to enabling Java Web Start for a simple Java SE application in NetBeans IDE">

        <meta name="keywords" content="NetBeans, IDE, integrated development environment, Java Web Start, Java
            tutorial, guide, user, documentation, open source, Java">
            
        <link rel="stylesheet" type="text/css" href="../../../netbeans.css">

        <title>Включение поддержки Java Web Start в IDE NetBeans</title>
        <style type="text/css">
<!--
.style1 {color: #FF0000}
.style2 {color: #000000}
-->
        </style>
</head>



    <body>

        <h1>Включение поддержки Java Web Start в IDE NetBeans</h1>

        <p>Выполнение действий данного учебного курса позволит изучить способы настройки приложения, позволяющие развернуть его с помощью Java Web Start.  Java Web Start представляет собой технологию, используемую для запуска приложений Java из веб-браузера одним щелчком мыши. Другими словами, Java Web Start является еще одним способом развертывания приложений Java.   </p>
        
        <p>В этому учебном курсе в качестве примера используется простое приложение на языке Java &ndash; &quot;Converter&quot;, преобразующее измерения расстояний из метрической системы измерений в систему измерений, принятую в США.  Код этого примера доступен для загрузки; возможно, чтобы запустить проект, используя Java Web Start, придется выполнить его настройку.  Файлы приложения можно загрузить на любой доступный удаленный веб-сервер.</p>
        <p>Изучение материала, представленного в этом учебном курсе, занимает приблизительно <span class="style2">20</span> минут. </p>
        <p><b>Содержание</b></p>
        <img alt="Содержимое на этой странице применимо к IDE NetBeans 6.9, 7.0, 7.1, 7.2 и 7.3" class="stamp" src="../../../images_www/articles/71/netbeans-stamp-71-72-73.png" title="Содержимое этой страницы применимо к IDE NetBeans 6.9, 7.0, 7.1 и 7.3">
        <ul class="toc">
            <li><a href="#openproject" title="Настройка проектов">Открытие проекта</a></li>
            <li><a href="#configure" title="Создание и изменение исходного кода Java">Настройка проекта для активации Java Web Start</a></li>
            <li><a href="#runremote">Запуск приложения из удаленного местоположения</a></li>
            <li><a href="#summary" title="Тестирование и отладка приложения">Заключение</a></li>
            <li><a href="#seealso" title="Что дальше?">Дополнительные сведения</a></li>
        </ul>

        <p><b>Для работы с этим учебным курсом требуются программное обеспечение и материалы, перечисленные в таблице ниже.</b></p>

        <table>
            <tbody>
                <tr>
                    <th width="165" class="tblheader" scope="col">Программное обеспечение или материал</th>
                    <th width="142" class="tblheader" scope="col">Требуемая версия</th>
                </tr>
                <tr>
                    <td class="tbltd1"><a href="http://download.netbeans.org/">IDE NetBeans</a></td>
                    <td class="tbltd1">6.9, 7.0, 7.1, 7.2, 7.3 </td>
                </tr>
                <tr>
                    <td class="tbltd1"><a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">Комплект для разработчика на языке Java (JDK)</a></td>
                    <td class="tbltd1"> Версия 6 или 7 </td>
                </tr>
                <tr>
                    <td class="tbltd1"><a href="https://netbeans.org/projects/samples/downloads/download/Samples%252FJava%252FConverterPrj.zip">Архивный файл ZIP, содержащий приложение Converter</a></td>
                    <td class="tbltd1">неприменимо</td>
                </tr>
            </tbody>
        </table>
        <h2>Открытие проекта<a id="openproject" name="openproject"></a></h2>
        <p>Откройте приложение Converter в среде IDE. Приложение уже упаковано как проект IDE NetBeans, поэтому пользователю нужно просто открыть проект в среде IDE. </p>
        <p>Исходный код демонстрационного примера Converter содержится в учебном курсе Java.  Сведения о способах написания этого небольшого приложения приведены в разделе <a href="http://java.sun.com/docs/books/tutorial/uiswing/examples/components/index.html" target="_blank">Использование компонентов Swing</a> учебного курса по Java.  В данном учебном курсе описана настройка проекта для запуска данного приложения Java в веб-браузере.  </p>
        <ol>
          <li>Загрузите <a href="https://netbeans.org/projects/samples/downloads/download/Samples%252FJava%252FConverterPrj.zip" target="_blank">архивный файл ZIP, содержащий демонстрационное приложение Converter</a>.</li>
          <li>Распакуйте его в любую папку на компьютере.</li>
          <li>В среде IDE выберите команду &quot;Файл&quot; &gt; &quot;Открыть проект&quot; из главного меню. <br> В окне &quot;Проекты&quot; откроется проект <tt>ConverterPrj</tt>.  Для просмотра исходных файлов разверните узел проекта. </li>
        </ol>
		 <p class="align-center"><img alt="Изображение, показывающее содержимое ConverterPrj." class="margin-around" src="../../../images_www/articles/71/java/javaws/converterprj.png"></p>
		 <!-- =============================================================================== -->
<h2><a name="configure"></a>Настройка проекта для активации Java Web Start</h2>
        <p>С помощью Java Web Start пользователь может запустить приложение Java, щелкнув HTML-ссылку на файл <tt>JNLP</tt> этого приложения в веб-браузере.  Файл <tt>JNLP</tt>, являющийся специальным файлом настройки, дает Java Web Start команду на загрузку, кэширование и запуск приложения Java.  Для запуска приложений с помощью Java Web Start необходимо наличие установленной совместимой версии Java Runtime Environment (JRE) на клиентской машине.  Установка комплекта для разработчика на языке Java (JDK) не требуется.  </p>
        <p>Для запуска приложения Java совместно с Java Web Start необходимо настроить свойства создания проекта средой IDE.  Если Java Web Start активирован в свойствах проекта, среда IDE вместе с файлом JAR автоматически создает файл <tt>JNLP</tt> и страницу HTML со ссылкой на файл <tt>JNLP</tt>. </p>
        
        <div class="indent">
            <h3 class="tutorial">Настройка проекта для активации Java Web Start  </h3>
            <p>В этом упражнении вы выполните настройку проекта для активации Java Web Start и протестируете ее выполнение локально. </p>
        <ol>
          <li>Щелкните правой кнопкой мыши узел проекта <tt>ConverterPrj</tt> и выберите команду &quot;Свойства&quot;. </li>
          <li>В группе &quot;Categories&quot; выберите &quot;Web Start&quot; и установите флажок &quot;Enable Web Start&quot;. </li>
          <li>Выберите параметр &quot;Локальное выполнение&quot; из раскрывающегося списка &quot;Кодовая база&quot;, поскольку сначала мы выполним приложение локально. <br> В поле &quot;Codebase Preview&quot; отображается путь к локальным файлам приложения. </li>
          <li>Нажмите кнопку &quot;Настроить&quot;, чтобы открыть диалоговое окно &quot;Подписывание&quot;.  Выберите параметр <tt>Самоподписание сгенерированным ключом</tt>. <br> Файл приложения JAR подписывается сертификатом, генерируемым автоматически при создании проекта.  Благодаря самоподписанному сертификату приложение сможет получить доступ к тем же ресурсам компьютера, что и обычное приложение, запускаемое локально.  Так, самоподписанные сертификаты дают приложению доступ к локальным файлам и сети.  </li>
		  <li>Оставьте флажок &quot;Включить защиту программного обеспечения&quot; в раскрывающемся списке &quot;Смешанный код&quot;, затем нажмите кнопку &quot;ОК&quot;.</li>
          <li>(Дополнительно) В диалоговом окне 'Свойства проекта' выберите панель 'Приложение' и измените название и поставщика приложения. </li>
          <li>Нажмите кнопку &quot;ОК&quot; для закрытия диалогового окна &quot;Свойства проекта&quot;. </li>
        </ol>
		<p class="align-center">
		<a href="../../../images_www/articles/71/java/javaws/prjproperties.png" rel="lytebox" title="Изображение, показывающее свойства ConverterPrj."> <img alt="Изображение, показывающее свойства ConverterPrj." border="1" src="../../../images_www/articles/71/java/javaws/prjproperties-small.png"></a></p>
		
		 <h3>Компиляция и выполнение приложения Java Web Start из среды IDE </h3>
		 <p><strong>Чтобы скомпилировать и запустить приложения для локального тестирования Java Web Start выполните следующие действия:</strong></p>
		 <ol>
		   <li>Выберите узел проекта <tt>ConverterPrj</tt> в окне ''Проекты', затем выберите 'Выполнить > Выбрать основной проект > ConverterPrj' в главном меню. </li>
	       <li>Выберите &quot;Выполнить&quot; &gt; &quot;Выполнить основной проект&quot; или нажмите клавишу F6. <br>Среда IDE скомпилирует исходный код, после чего появится экран запуска Java и предупреждение об опасности выполнения неподписанного приложения. <p class="align-center">
		<a href="../../../images_www/articles/71/java/javaws/warning.png" rel="lytebox" title="Предупреждение"> <img alt="Предупреждение" border="1" src="../../../images_www/articles/71/java/javaws/warning-small.png"></a></p> </li>
		   <li>Установите флажок, подтверждающий, что вы доверяете содержимому приложения, и нажмите кнопку &quot;Выполнить&quot; в окне предупреждения. <br> Приложение Converter будет запущено. <p><img alt="Изображение, показывающее приложение Converter." class="margin-around" src="../../../images_www/articles/71/java/javaws/converterapp.png"></p> </li>
      </ol>
		 
		  <h3 class="tutorial">Просмотр файлов Java Web Start</h3>
		  <p>Перейдем к подробному рассмотрению файлов Java Web Start, созданных средой IDE в процессе сборки (Выполнить > Собрать проект). </p>
		  <p>Для просмотра файлов откройте окно &quot;Файлы&quot; в среде IDE и разверните папку <tt>dist</tt>. </p>
		  <p class="align-center"><img alt="Изображение, показывающее файлы, созданные для приложения Converter." class="margin-around" src="../../../images_www/articles/71/java/javaws/converterfiles.png"></p>
		  <p> Для Java Web Start были созданы два дополнительных файла:	      </p>
		  <ul>
		    <li><tt>launch.jnlp</tt> — файл XML со специальными элементами и атрибутами, указывающий браузеру способы выполнения приложения.  <tt>JNLP</tt> означает Java Network Launching Protocol.  Атрибуты файлов <tt>JNLP</tt> могут включать в себя версию спецификации <tt>JNLP</tt>, заголовок приложения, имя поставщика, ссылку на файл JAR приложения и т.п.; </li>
            <li><tt>launch.html</tt> — автоматически созданная страница HTML, содержащая ссылку на файл <tt>JNLP</tt>.  Для запуска приложения посредством Java Web Start достаточно щелкнуть эту ссылку.  Также этот файл HTML содержит закомментированную ссылку на общедоступный инструментарий Java Deployment Toolkit (<a href="http://java.com/js/deployJava.js" target="_blank">deployJava.js</a>), предоставляющий функции JavaScript, позволяющие избежать проблем совместимости.  Более подробные сведения по <a href="http://download.oracle.com/javase/6/docs/technotes/guides/jweb/deployment_advice.html#deplToolkit" target="_blank">Java Deployment Toolkit </a> приведены по данной ссылке. <br> <br> Попробуйте сделать следующее: вне среды IDE перейдите к файлу <tt>launch.html</tt>, откройте его в браузере и щелкните ссылку, запускающую демонстрационное приложение Converter. </li>
		  </ul>
		 
	</div>
        <h2><a id="runremote" name="runremote"></a>Запуск приложения из удаленного местоположения</h2>
        <p>После успешного запуска приложения с Java Web Start из локального источника попробуем выгрузить его на удаленный сервер и запустить оттуда.</p>
        
        <p class="notes"><b>Примечание.</b> Для развертывания приложений с использованием Java Web Start через Интернет, используемый веб-сервер должен поддерживать обработку файлов <tt>JNLP</tt>. Веб-сервер должен быть настроен на распознавание файлов <tt>JNLP</tt> в качестве приложений, т.е. в настройки веб-сервера необходимо добавить тип MIME для <tt>JNLP</tt>.  В противном случае файлы <tt>JNLP</tt> будут обрабатываться сервером как обычные текстовые файлы.  Дополнительные сведения по настройке веб-сервера приведены в <a href="http://docs.oracle.com/javase/6/docs/technotes/guides/javaws/developersguide/setup.html" target="_blank">Руководстве по Java Web Start</a>.</p>
    <div class="indent">
        <h3 class="tutorial">Изменение файла JNLP</h3>
            <p>Для запуска приложения из Интернета необходимо включить ссылку на файл исходного кода приложения в Интернете в файл <tt>JNLP</tt>. </p>
            <ol>
              <li>Щелкните правой кнопкой мыши узел проекта <tt>ConverterPrj</tt> и выберите в группе &quot;Категории&quot; пункт &quot;Web Start&quot;. </li>
              <li>Выберите в списке &quot;Кодовая база&quot; вариант &quot;Пользовательская&quot;.</li>
              <li>Введите в поле &quot;Предварительный просмотр базы кода&quot; URL-адрес сервера, на который будут выгружены файлы исходного кода. <br> Например, <tt>http://mydomain.com/myuser/converter/</tt>.</li>
              <li>Нажмите кнопку &quot;ОК&quot; в окне &quot;Свойства проекта&quot;.</li>
              <li>Щелкните правой кнопкой мыши узел <tt>ConverterPrj</tt> и выберите &quot;Очистить и построить&quot;. <br> Эта команда среды IDE удаляет все ранее скомпилированные файлы и результаты сборки, перекомпилирует приложение и создает файл результатов сборки с текущими настройками. </li>
            </ol>

            <h3 class="tutorial">Выгрузка файлов с исходным кодом </h3>
            <p>Теперь мы выгрузим файлы с исходным кодом на сервер и выполним оттуда приложение. Обратите внимание, что все пользовательские данные и имена проектов, упомянутые в этом примере, необходимо изменить на ваши собственные.  </p>

            <ol>
                <li>Войдите на веб-сервер и перейдите к области загрузки проекта. <br> В этом случае проект называется "IDE NetBeans Documentation Area"</li>
                <li>Выгрузите следующие файлы из локальной папки вашего проекта <tt>dist</tt> в каталог проекта: <tt>ConverterPrj.jar</tt>, <tt>launch.html</tt> и <tt>launch.jnlp</tt>.
                <p>На рисунке ниже показана область загрузок для проекта IDE NetBeans Documentation Area. </p>
                <p class="align-center">
		<a href="../../../images_www/articles/71/java/javaws/download.png" rel="lytebox" title="Рисонок, на котором показана область загрузок для проекта документации по IDE NetBeans"> <img alt="Рисонок, на котором показана область загрузок для проекта документации по IDE NetBeans" border="1" src="../../../images_www/articles/71/java/javaws/download-small.png"></a></p></li>
                <li>Запустите приложение.  Введите в окне браузера URL-адрес файла <tt>launch.html</tt> и перейдите по ссылке &quot;Запустить приложение&quot;.
                <p>Приложение Converter будет запущено с помощью Java Web Start.</p> </li>
            </ol>
        </div>

        <h2><a name="summary"></a>Заключение</h2>
        <p>В этом коротком учебном курсе описывается простое создание приложения Java, которое может быть развернуто через Интернет с помощью IDE NetBeans. Это только один из способов развертывания приложений Java. </p>

        <div class="indent"></div>
        <!--<br>-->
        <div class="feedback-box"><a href="/about/contact_form.html?to=3&amp;subject=Feedback:%20Enabling%20Java%20Web%20Start%20in%20the%20NetBeans%20IDE">Отправить отзыв по этому учебному курсу</a></div>
        <br style="clear:both;" >
        <h2><a id="seealso" name="seealso"></a>Дополнительные сведения </h2>
        <p>Для получения дополнительных сведений о технологиях Java Web Start можно воспользоваться следующими материалами:        </p>
        <ul>
            <li><a href="http://download.oracle.com/javase/6/docs/technotes/guides/javaws/developersguide/contents.html" target="_blank">Руководство по Java Web Start</a> — руководство по использованию технологии Java Web Start; </li>
            <li><a href="http://download.oracle.com/javase/tutorial/deployment/webstart/index.html">Урок: Java Web Start</a> из учебного курса по Java — практические примеры использования Java Web Start для создания приложений. </li>
        </ul>

</body>
</html>
