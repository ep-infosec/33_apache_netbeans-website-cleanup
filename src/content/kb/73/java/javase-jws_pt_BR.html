<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--
Copyright (c) 2009, 2010, 2011, Oracle and/or its affiliates. All rights reserved.
-->

<html>
    <head>
        <meta http-equiv="content-type" content="text/html; charset=UTF-8">
        <meta name="description" content="A short guide to enabling Java Web Start for a simple Java SE application in NetBeans IDE">

        <meta name="keywords" content="NetBeans, IDE, integrated development environment, Java Web Start, Java
            tutorial, guide, user, documentation, open source, Java">
            
        <link rel="stylesheet" type="text/css" href="../../../netbeans.css">

        <title>Ativando o Java Web Start no NetBeans IDE</title>
        <style type="text/css">
<!--
.style1 {color: #FF0000}
.style2 {color: #000000}
-->
        </style>
</head>



    <body>

        <h1>Ativando o Java Web Start no NetBeans IDE</h1>

        <p>Seguindo as etapas neste tutorial, você aprenderá a configurar sua aplicação para que ela possa ser implantada utilizando o Java Web Start. O Java Web Start é uma tecnologia que é utilizada para executar aplicações Java de um Web browser com apenas um clique. Em resumo, o Java Web Start é apenas outra forma de como é possível implantar aplicações Java.  </p>
        
        <p>Neste tutorial, utilizamos uma aplicação Java simples, um conversor, que converte as medições de distâncias entre as unidades métricas e a dos EUA. O código para esta aplicação de amostra será disponibilizado para download e será necessário configurar as definições do projeto para poder iniciá-lo utilizando o Java Web Start. Você pode usar qualquer servidor web remoto disponível para você fazer upload nos arquivos da aplicação.</p>
        <p>Este tutorial leva aproximadamente <span class="style2">20</span> minutos para ser completado. </p>
        <p><b>Conteúdo</b></p>
        <img alt="O conteúdo desta página se aplica ao NetBeans IDE 6.9, 7.0, 7.1, 7.2 e 7.3" class="stamp" src="../../../images_www/articles/71/netbeans-stamp-71-72-73.png" title="O conteúdo desta página aplica-se ao NetBeans IDE 6.9, 7.0, 7.1 e 7.3">
        <ul class="toc">
            <li><a href="#openproject" title="Configuração do Projeto">Abrindo um Projeto</a></li>
            <li><a href="#configure" title="Criando e Editando o Código-fonte Java">Configurando o Projeto para Ativar o Java Web Start</a></li>
            <li><a href="#runremote">Executando a Aplicação de uma Localização Remota</a></li>
            <li><a href="#summary" title="Testando e Depurando a Aplicação">Resumo</a></li>
            <li><a href="#seealso" title="Próximas Etapas">Consulte Também</a></li>
        </ul>

        <p><b>Para concluir este tutorial, você precisa do software e dos recursos apresentados na tabela a seguir.</b></p>

        <table>
            <tbody>
                <tr>
                    <th width="165" class="tblheader" scope="col">Software ou Recurso</th>
                    <th width="142" class="tblheader" scope="col">Versão Necessária</th>
                </tr>
                <tr>
                    <td class="tbltd1"><a href="http://download.netbeans.org/">NetBeans IDE</a></td>
                    <td class="tbltd1">6.9, 7.0, 7.1, 7.2, 7.3 </td>
                </tr>
                <tr>
                    <td class="tbltd1"><a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">JDK (Java Development Kit)</a></td>
                    <td class="tbltd1"> 6 ou 7 </td>
                </tr>
                <tr>
                    <td class="tbltd1"><a href="https://netbeans.org/projects/samples/downloads/download/Samples%252FJava%252FConverterPrj.zip">Arquivo compactado zip do conversor</a></td>
                    <td class="tbltd1">n/d</td>
                </tr>
            </tbody>
        </table>
        <h2>Abrindo um Projeto<a id="openproject" name="openproject"></a></h2>
        <p>Abra a /Aplicação do Conversor no IDE. A aplicação já está encapsulada como um projeto NetBeans IDE, portanto, basta abrir o projeto no IDE. </p>
        <p>O código-fonte para a demonstração do Conversor é originalmente fornecido no tutorial Java. Consulte a seção <a href="http://java.sun.com/docs/books/tutorial/uiswing/examples/components/index.html" target="_blank">Utilizando Componentes Swing</a> do tutorial Java para aprender como escrever esta pequena aplicação. Neste tutorial, você aprenderá a configurar suas definições de projeto para que esta aplicação Java possa ser iniciada em um web browser.  </p>
        <ol>
          <li>Faça download do <a href="https://netbeans.org/projects/samples/downloads/download/Samples%252FJava%252FConverterPrj.zip" target="_blank">arquivo compactado zip da aplicação de demonstração do conversor</a>.</li>
          <li>Extraia o arquivo compactado em um local no sistema.</li>
          <li>No IDE, escolha Arquivo > Abrir Projeto, a partir do menu principal. <br> O projeto <tt>ConverterPrj</tt> é aberto na janela Projetos. Você pode expandir os nós do projeto para exibir os arquivos de código-fonte. </li>
        </ol>
		 <p class="align-center"><img alt="Mostrando o conteúdo da imagem ConverterPrj." class="margin-around" src="../../../images_www/articles/71/java/javaws/converterprj.png"></p>
		 <!-- =============================================================================== -->
<h2><a name="configure"></a>Configurando o Projeto para Ativar o Java Web Start</h2>
        <p>Com o Java Web Start, o usuário pode iniciar a aplicação Java clicando no link HTML para um arquivo <tt>JNLP</tt> para esta aplicação dentro do Web browser. O arquivo <tt>JNLP</tt>, que é um arquivo de configuração especial, instrui o Java Web Start para fazer download, armazenar no cache e executar a aplicação Java. Para executar aplicações com o Java Web Start, basta ter uma versão compatível do Java Runtime Environment (JRE) instalado na máquina cliente. A instalação do Java Development Kit (JDK) não é necessária.  </p>
        <p>Para ativar sua aplicação Java para ser executada com o Java Web Start, é preciso configurar as propriedades sobre como o IDE deveria ser incorporado no projeto. Quando o Java Web Start é ativado nas propriedades do projeto, o IDE cria automaticamente um arquivo <tt>JNLP</tt> e uma página HTML com o link para o arquivo <tt>JNLP</tt>, junto com o arquivo JAR. </p>
        
        <div class="indent">
            <h3 class="tutorial">Configurando o Projeto para Ativar o Java Web Start  </h3>
            <p>Neste exercício configuramos o projeto para torná-lo ativado para o Java Web Start e testamos localmente sua execução. </p>
        <ol>
          <li>Clique com o botão direito do mouse no nó do projeto <tt>ConverterPrj</tt> e escolha Propriedades. </li>
          <li>Em Categorias, escolha Web Start e selecione a caixa de seleção Ativar o Web Start. </li>
          <li>Escolha a opção Execução Local na lista drop-down Código-base, já que primeiro iremos executar a aplicação localmente. <br> O campo Visualizar Código-base mostra o caminho para os arquivos da aplicação local. </li>
          <li>Clique em Personalizar para abrir a caixa de diálogo Assinatura. Selecione a opção <tt>autoassinado por chave gerada</tt>. <br> O arquivo da aplicação JAR será assinado por um certificado gerado automaticamente quando o projeto for construído. Com o certificado autoassinado, a aplicação será capaz de acessar os mesmos recursos a partir do computador como uma aplicação regular que é executada localmente. Por exemplo, o certificado autoassinado permite que uma aplicação acesse arquivos locais e a rede.  </li>
		  <li>Deixe as Proteções de Software Ativadas na lista drop-down de Código Misto e clique em OK.</li>
          <li>(Opcional) Na caixa de diálogo Propriedades do Projeto, selecione o painel Aplicação e altere o título e nome do fornecedor. </li>
          <li>Clique em OK para fechar a caixa de diálogo Propriedades do Projeto. </li>
        </ol>
		<p class="align-center">
		<a href="../../../images_www/articles/71/java/javaws/prjproperties.png" rel="lytebox" title="Imagem que mostra as propriedades de ConverterPrj."> <img alt="Imagem que mostra as propriedades de ConverterPrj." border="1" src="../../../images_www/articles/71/java/javaws/prjproperties-small.png"></a></p>
		
		 <h3>Compilando e Executando a Aplicação Java WebStart a partir do IDE </h3>
		 <p><strong>Para compilar e executar a aplicação para testar Java Web Start localmente:</strong></p>
		 <ol>
		   <li>Selecione o nó do projeto <tt>ConverterPrj</tt> na janela Projetos e, em seguida, escolha Executar > Definir Projeto Principal > ConverterPrj no menu principal. </li>
	       <li>Escolha Executar > Executar Projeto Principal ou pressione F6. <br>O IDE compila os códigos-fonte e é possível ver a tela de splash indicando que o Java está sendo iniciado e a janela de advertência perguntando se a aplicação assinada pode ser executada. <p class="align-center">
		<a href="../../../images_www/articles/71/java/javaws/warning.png" rel="lytebox" title="Advertência"> <img alt="Advertência" border="1" src="../../../images_www/articles/71/java/javaws/warning-small.png"></a></p> </li>
		   <li>Marque a caixa de seleção para definir o conteúdo como confiável e clique em Executar na janela de advertência. <br> A aplicação Conversor é iniciada. <p><img alt="Imagem mostrando a aplicação de Conversão." class="margin-around" src="../../../images_www/articles/71/java/javaws/converterapp.png"></p> </li>
      </ol>
		 
		  <h3 class="tutorial">Explorando os Arquivos Java Web Start</h3>
		  <p>Vamos agora examinar de perto os arquivos Java Web Start que foram criados pelo IDE durante o processo de construção (Executar > Criar Projeto). </p>
		  <p>Para exibir os arquivos, abra a janela Arquivos no IDE e expanda a pasta <tt>dist</tt>.</p>
		  <p class="align-center"><img alt="Imagem mostrando os arquivos criados para a aplicação do Conversor." class="margin-around" src="../../../images_www/articles/71/java/javaws/converterfiles.png"></p>
		  <p> Para o Java Web Start, os seguintes dois arquivos adicionais foram criados:	      </p>
		  <ul>
		    <li><tt>launch.jnlp</tt>: este é um arquivo XML com elementos especiais e atributos que instruem os browsers sobre como executar a aplicação. <tt>JNLP</tt> representa o Java Network Launching Protocol. Os atributos dos arquivos <tt>JNLP</tt> podem incluir a versão de especificação <tt>JNLP</tt>, o título da aplicação, o nome do fornecedor, um link para a aplicação JAR, etc. </li>
            <li><tt>launch.html</tt>: esta é uma página HTML automaticamente gerada, que possui um link para o arquivo <tt>JNLP</tt>. Os usuários clicam nesse link para iniciar as aplicações por meio do Java Web Start. Esse arquivo HTML gerado também possui uma referência cancelada com comentário para o Java Deployment Toolkit (<a href="http://java.com/js/deployJava.js" target="_blank">deployJava.js</a>) publicamente disponível, que fornece funções JavaScript para poder evitar problemas de compatibilidade do browser. É possível encontrar aqui mais informações sobre <a href="http://download.oracle.com/javase/6/docs/technotes/guides/jweb/deployment_advice.html#deplToolkit" target="_blank">Java Deployment Toolkit </a>. <br> <br> É possível tentar o seguinte: fora do IDE, vá para o arquivo <tt>launch.html</tt> no sistema, abra-o em seu browser e clique no link para iniciar a aplicação de demonstração do Conversor. </li>
		  </ul>
		 
	</div>
        <h2><a id="runremote" name="runremote"></a>Executando a Aplicação de uma Localização Remota</h2>
        <p>Após verificarmos que a aplicação foi iniciada com êxito com o Java Web Start usando o código-fonte local, vamos fazer seu upload em um local remoto e iniciá-la de lá.</p>
        
        <p class="notes"><b>Observação:</b> para implantação de aplicações com o Java Web Start na Web, o servidor Web que estiver sendo utilizado deve ser capaz de manipular arquivos <tt>JNLP</tt>. O servidor Web deve ser configurado para reconhecer os arquivos <tt>JNLP</tt> como aplicações, ou seja, o tipo MIME para o <tt>JNLP</tt> deve ser adicionado na configuração do servidor Web. Caso contrário, os arquivos com a extensão <tt>JNLP</tt> serão tratados como arquivos de texto comuns. Para obter mais informações sobre a configuração do servidor Web, consulte o <a href="http://docs.oracle.com/javase/6/docs/technotes/guides/javaws/developersguide/setup.html" target="_blank">Guia do Java Web Start</a>.</p>
    <div class="indent">
        <h3 class="tutorial">Modificando o Arquivo JNLP</h3>
            <p>Para iniciar a aplicação a partir da Web, é preciso fornecer um link para o arquivo de código-fonte das aplicações na Web no arquivo <tt>JNLP</tt>. </p>
            <ol>
              <li>Clique com o botão direito do mouse no nó do projeto <tt>ConvertePrj</tt>, escolha Propriedades e selecione Web Start em Categorias. </li>
              <li>Escolha definida pelo usuário como o Código-base.</li>
              <li>No campo Visualizar Código-Base, insira o URL para onde fará upload dos arquivos de código-fonte. <br> Por exemplo, <tt>http://mydomain.com/myuser/converter/</tt>.</li>
              <li>Clique em OK na janela Propriedades do Projeto.</li>
              <li>Clique com o botão direito do mouse no nó <tt>ConverterPRJ</tt> e escolha Limpar e Construir. <br> Este comando do IDE deleta todos os arquivos anteriormente compilados e as saídas construídas, recompila sua aplicação e constrói os arquivos de saída com as definições atuais. </li>
            </ol>

            <h3 class="tutorial">Fazendo Upload dos Arquivos do Código-fonte </h3>
            <p>Agora faremos upload dos arquivos de código-fonte em um servidor e executaremos a aplicação a partir dele. Observe que todas as credenciais de usuário e nomes de projeto referenciados nesta seção deveriam ser substituídos por seus dados pessoais. </p>

            <ol>
                <li>Faça o log-in no servidor web e vá à área de download do seu projeto. <br> Em nosso caso, o título do projeto é "Área de Documentação do NetBeans IDE"</li>
                <li>Faça upload dos seguintes arquivos locais a partir da pasta <tt>dist</tt> para o diretório de seu projeto para a área Downloads de seu projeto: <tt>ConverterPrj.jar</tt>, <tt>launch.html</tt> e <tt>launch.jnlp</tt>.
                <p>A figura abaixo mostra a área de download para o projeto Área de Documentação do NetBeans IDE. </p>
                <p class="align-center">
		<a href="../../../images_www/articles/71/java/javaws/download.png" rel="lytebox" title="Imagem que mostra a área de download do Projeto de Documentação do NetBeans IDE"> <img alt="Imagem que mostra a área de download do Projeto de Documentação do NetBeans IDE" border="1" src="../../../images_www/articles/71/java/javaws/download-small.png"></a></p></li>
                <li>Agora, execute a aplicação. Em uma janela do browser, insira o URL para o arquivo <tt>launch.html</tt> e clique no link "Acione a aplicação".
                <p>A aplicação do Conversor é iniciada com Java Web Start.</p> </li>
            </ol>
        </div>

        <h2><a name="summary"></a>Resumo</h2>
        <p>Neste tutorial resumido, mostramos como tornar uma aplicação Java implantável facilmente na Web utilizando o NetBeans IDE. Essa é apenas outra forma de implantar aplicações Java. </p>

        <div class="indent"></div>
        <!--<br>-->
        <div class="feedback-box"><a href="/about/contact_form.html?to=3&amp;subject=Feedback:%20Enabling%20Java%20Web%20Start%20in%20the%20NetBeans%20IDE">Enviar Feedback neste Tutorial</a></div>
        <br style="clear:both;" >
        <h2><a id="seealso" name="seealso"></a>Consulte Também </h2>
        <p>Para obter mais informações sobre como utilizar o Java Web Start, consulte os seguintes recursos:        </p>
        <ul>
            <li><a href="http://download.oracle.com/javase/6/docs/technotes/guides/javaws/developersguide/contents.html" target="_blank">Guia do Java Web Start</a>: um guia para utilizar a tecnologia Java Web Start </li>
            <li><a href="http://download.oracle.com/javase/tutorial/deployment/webstart/index.html">Lição: Java Web Start</a> do tutorial Java: exercícios práticos sobre como tornar as aplicações ativadas para o Java Web Start </li>
        </ul>

</body>
</html>
