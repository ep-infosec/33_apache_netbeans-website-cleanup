<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<!--
Copyright (c) 2008, 2014, Oracle and/or its affiliates. All rights reserved.
-->
    <head>
        <title>Пакетирование и распространение настольных приложений Java</title>
        <meta name="description" content="Creating executable JAR files and distributing NetBeans projects">
        <link rel="stylesheet" type="text/css" href="../../../netbeans.css">
        <meta name="author" content="Max Sauer, Patrick Keegan">
        <style type="text/css">

        </style>
<meta HTTP-EQUIV="Content-Type" Content="text/html; charset=UTF-8"></head>
    <body>
        <h1>Пакетирование и распространение настольных приложений Java</h1>
        
        <p>Многие начинающие программисты сталкиваются с таким вопросом: &quot;Я создал свое приложение в среде IDE, как теперь заставить его работать из командной строки вне среды IDE?&quot;. Может возникнуть и такой вопрос: &quot;Как мне распространить это приложение среди других пользователей, не передавая им заодно всю среду IDE?&quot;.
        </p>
        <p>Ответы на эти вопросы относительно просты, но не всегда очевидны. В данном документе даны ответы на них путем демонстрации основ использования среды IDE для подготовки приложений к распространению и развертыванию. Кроме того, в данном документе предоставлены сведения, которые могут быть необходимы для настройки системы программиста (или которые нужно будет передать пользователям приложения). Мы покажем несколько различных подходов к развертыванию приложения, позволяющих пользователям получать доступ к нему посредством:</p>
    <ul>
                <li>Двойного щелчка файла архива Java (JAR) приложения.</li>
                <li>Вызова приложения из командной строки.</li>
                <li>Вызова приложения из файла сценария.</li>
                <li>Использования Java Web Start.</li>
    </ul>

            <p><b>Содержание</b></p>
        <img alt="Содержимое на этой странице применимо к IDE NetBeans 8.0" class="stamp" src="../../../images_www/articles/80/netbeans-stamp.png" title="Содержимое этой страницы применимо к IDE NetBeans 8.0">
        <ul class="toc">
            <li><a href="#createjar">Создание исполняемого файла JAR</a>
              <ul>
                <li><a href="#setup" title="Настройка проекта">Создание проекта с помощью существующих файлов исходного кода</a></li>
                <li><a href="#configure">Настройка проекта</a></li>
                <li><a href="#build">Построение проекта и создание файла JAR </a> </li>
              </ul>
            </li>
            <li><a href="#run">Запуск и распространение файла JAR </a></li>
            <li><a href="#startapp">Запуск приложения Java</a>
              <ul>
                <li><a href="#commandline">Запуск приложений из командной строки</a></li>
                <li><a href="#script">Запуск приложений из сценария</a></li>
              </ul>
            </li>
            <li><a href="#javaws">Упаковка приложения для Java Web Start</a></li>
            <li><a href="#troubleshooting">Советы по устранению проблем</a>
              <ul>
                <li><a href="#jarfiles">Указание сопоставлений файлов JAR</a> </li>
                <li><a href="#path">Установка переменной среды PATH</a> </li>
              </ul>
            </li>
            <li><a href="#nextsteps" title="Что дальше?">Следующие действия</a></li>
        </ul>
            <p class="align-center">&nbsp;</p>
   <p><b>Для работы с этим учебным курсом требуются программное обеспечение и материалы, перечисленные в таблице ниже.</b></p>

        <table>
            <tbody>
                <tr>
                    <th width="165" class="tblheader" scope="col">Программное обеспечение или материал</th>
                    <th width="142" class="tblheader" scope="col">Требуемая версия</th>
                </tr>
                <tr>
                    <td class="tbltd1"><a href="https://netbeans.org/downloads/index.html">IDE NetBeans</a></td>
                    <td class="tbltd1">версия 8.0 </td>
                </tr>
                <tr>
                    <td class="tbltd1"><a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">Комплект для разработчика на языке Java (JDK)</a></td>
                    <td class="tbltd1"><p>версия 7 или 8 </p></td>
                </tr>
				<tr>
                    <td class="tbltd1"><a href="https://netbeans.org/projects/samples/downloads/download/Samples%252FJava%252FDeploymentTutorial.zip" target="_blank">Файлы исходного кода для руководства по развертыванию</a></td>
                    <td class="tbltd1"><p>&nbsp;</p></td>
                </tr>
            </tbody>
        </table>

            <br>
            <!-- ===================================================================================== -->
    

        
    <!-- ===================================================================================== -->
    <h2><a id="createjar" name="createjar"></a>Создание исполняемого файла JAR</h2> 
        <p>В данной части учебного курса показано, как можно создать предназначенное для распространения приложение в среде IDE и затем запустить это приложение вне среды IDE. Мы пакетируем это приложение в исполняемый файл <a href="http://download.oracle.com/javase/tutorial/deployment/jar/run.html" target="_blank">JAR</a>. </p>
        <p>Файл JAR &ndash; это файл архива, в который могут быть вложены файлы и папки. Файлы JAR подобны файлам ZIP, но файлы JAR могут иметь дополнительные атрибуты, полезные при распространении приложений Java. В число этих атрибутов входят цифровая подпись файлов JAR, дополнительное сжатие, совместимость с различными платформами и т. д. </p>
        <p>В этом упражнении мы создаем проект среды IDE и затем помещаем в этот проект два заранее написанных файла исходного кода Java. Затем мы скомпилируем классы и создадим исполняемый файл JAR. После этого мы посмотрим, как запускать файлы JAR вне среды IDE.</p>
        <p>Классы, используемые в данном руководстве, реализуют функции служебной программы <a href="http://www.gnu.org/software/grep/">GNU grep</a>, которую можно использовать для поиска текста или шаблонов регулярных выражений в текстовых файлах. Данный проект содержит как версию приложения для командной строки, так и версию, использующую графический интерфейс, что позволит взглянуть на различные способы запуска приложения.        </p>
        
        
  
            <h3 class="tutorial"><a name="setup"></a>Создание проекта с помощью существующих файлов исходного кода </h3>
            <ol>
                <li>
                  <p>Загрузите файл <a href="https://netbeans.org/projects/samples/downloads/download/Samples%252FJava%252FDeploymentTutorial.zip" target="_blank">DeploymentTutorial.zip</a> и извлеките его содержимое. <br> Данный архив ZIP содержит файлы исходного кода для приложения, а также несколько других файлов, которые будут использованы в этом руководстве.</p>
                </li>
                <li>
                  <p>В IDE NetBeans выберите 'Файл' > 'Создать проект'.</p>
                </li>
                <li>На странице Choose Category (&quot;Выбор категории&quot;) выберите Java Project With Existing Sources (&quot;Проект Java с существующим исходным кодом&quot;) в категории Java и нажмите кнопку Next (&quot;Далее&quot;).</li>
                <li>На странице Name and Location (&quot;Имя и местоположение&quot;) мастера введите <tt>AnotherGrep</tt> в поле имени проекта и укажите местоположение проекта. <br> Нажмите кнопку &quot;Далее&quot;.
                    <p class="tips">Местоположение папки проекта <i>не</i> обязательно должно совпадать с местоположением исходных файлов, импортируемых в проект.</p>
                </li>
                <li>На странице мастера Existing Sources (&quot;Существующие исходные файлы&quot;) укажите файлы исходного кода, которые будут включены в проект. <br> Нажмите кнопку Add Folder (&quot;Добавить папку&quot;) справа от поля Source Package Folders (&quot;Папки пакетов исходного кода&quot;).  Перейдите к папке <tt>DeploymentTutorial</tt>, которую только что разархивировали, разверните папку, выберите папку <tt>src</tt> и нажмите кнопку Open (&quot;Открыть&quot;).  Папка <tt>src</tt> будет добавлена к полю Source Package Folders (&quot;Папки пакетов исходного кода&quot;).</li>
                <li>Нажмите кнопку &quot;Завершить&quot;.<br>
                  <p class="notes"><b>Примечание.</b> Если, например, необходимо исключить определенные исходные файлы из операции импорта в проект, щелкните 'Далее', чтобы открыть последнее окно 'Включает &amp; Исключает'. В этом случае необходимо использовать все исходные файлы в папке <tt>src</tt> поэтому нажимается кнопка 'Готово', чтобы завершить работу в мастере создания проектов.        </p>
                </li>
            </ol>
        
            <p>Проект откроется в среде IDE и отобразится в окне "Проекты". Изучить содержание проекта можно, развернув его узел пакетов исходного кода, в котором можно будет увидеть классы <tt>Grep</tt> и <tt>xGrep</tt>. <tt>Grep.java</tt> &ndash; файл консольной версии приложения. <tt>xGrep.java</tt> &ndash; файл версии приложения с графическим интерфейсом, использующей методы, определенные в <tt>Grep.java</tt>.</p>

            <h3 class="tutorial"><a name="configure"></a>Настройка проекта</h3>
        
            <p>Для настройки проекта необходимо выполнить несколько действий:</p>
            <ul>
                <li>Выберите платформу Java, которая будет использована для компиляции файлов исходного кода. </li>
                <li>Назначьте главный класс проекта. Это позволит гарантировать, что файл JAR, создаваемый при построении проекта, будет исполняемым.</li>
            </ul>
      
                <h4>Проверка платформы Java</h4>
                <p>Наш проект должен быть скомпилирован и выполнен на платформе Java 7 или Java 8. Поэтому нам необходимо убедиться, что платформа Java 7 или Java 8 соответственно используется в качестве платформы для данного проекта.  </p>
                <ol>
                  <li>Правой кнопкой мыши щелкните узел проекта и выберите элемент &quot;Свойства&quot;.</li>
                  <li>На вкладке "Библиотеки" в качестве платформы Java должна быть указана версия JDK 1.7 (или JDK 1.8).</li>
                  <li>На вкладке Sources (&quot;Источники&quot;) выберите JDK 7 (или JDK 8) как формат двоичных файлов/файлов исходного кода.</li>
                  <li>Нажмите кнопку &quot;OК&quot;, чтобы закрыть окно Project (&quot;Свойства&quot;). </li>
                </ol>
                <h4>Назначение главного класса</h4>
                <p>Чтобы пользователь мог без труда запустить создаваемый файл JAR (дважды щелкнув его или введя <tt>java -jar AnotherGrep.jar</tt> в командной строке), необходимо указать главный класс внутри файла манифеста <i>manifest</i> в архиве JAR. (Файл манифеста является стандартной частью архива JAR, содержащей информацию о файле JAR, которая будет полезна для средства запуска <tt>java</tt> при запуске приложения.) Главный класс служит точкой входа, из которой средство запуска <tt>java</tt> запускает приложение. </p>
                <p>При сборке проекта среда IDE создает файл JAR и включает в него манифест. При назначении главного класса проекта мы убеждаемся, что главный класс указан в манифесте.</p>
                <p>Для назначения главного класса проекта выполните следующие действия:</p>
                <ol>
                    <li>Правой кнопкой мыши щелкните узел проекта и выберите элемент &quot;Свойства&quot;.</li>
                    <li>Выберите категорию Выполнение и введите <tt>anothergrep.xGrep</tt> в поле 'Основной класс'.</li>
                    <li>Нажмите кнопку &quot;ОК&quot; для закрытия диалогового окна &quot;Свойства проекта&quot;.</li>
                </ol>
        <p>При сборке проекта ниже в этом руководстве будет создан манифест, включающий в себя следующую запись:</p>
    <pre class="examplecode">Main-Class: anothergrep.xGrep</pre>
    <h3><a name="build"></a>Построение проекта и создание файла JAR </h3>
            <p>Теперь, когда файлы исходного кода готовы и параметры проекта настроены, пора выполнить сборку проекта.</p> 
            <p>Сборка проекта</p>
            <ul>
                <li>Выберите &quot;Выполнение&quot; &gt; &quot;Собрать проект&quot; (AnotherGrep).<br> В качестве альтернативы щелкните правой кнопкой мыши узел проекта в окне 'Проекты' и выберите 'Сборка'. </li>
            </ul>
        
            <p>При сборке проекта происходит следующее.</p>
            <ul>
                <li>К папке проекта (далее именуемой &quot;папка <i>PROJECT_HOME</i>&quot;) добавляются папки <tt>build</tt> и <tt>dist</tt>.</li>
                <li>Все исходные файлы компилируются в файлы <tt>.class</tt>, которые помещаются в папку <tt><i>PROJECT_HOME</i>/build</tt>.</li>
                <li>В папке <tt><i>PROJECT_HOME</i>/dist</tt> создается архив JAR, содержащий проект.</li>
                <li>Если для проекта указаны какие-либо библиотеки (кроме JDK), в папке <tt>dist</tt> создается папка <tt>lib</tt>.  Библиотеки копируются в папку <tt>dist/lib</tt>.
                </li>
                <li>Файл манифеста manifest в архиве JAR обновляется за счет включения записей, указывающих главный класс и все библиотеки, которые находятся в пути классов проекта.</li>
            </ul>
            <p class="notes"><b>Примечание.</b> Содержимое Manifest можно просмотреть в окне 'Файлы' IDE. После построения проекта переключитесь на окно Files (&quot;Файлы&quot;) и перейдите к <tt>dist/AnotherGrep.jar</tt>.  Разверните узел файла JAR, разверните папку <tt>META-INF</tt> и дважды щелкните <tt>MANIFEST.MF</tt>, чтобы отобразить Manifest в редакторе исходного кода.</p>
            <pre class="examplecode">Main-Class: anothergrep.xGrep</pre>
            
            (Дополнительные сведения о файлах манифеста приведены в <a href="http://java.sun.com/docs/books/tutorial/deployment/jar/manifestindex.html">этом разделе</a> в учебном курсе по Java). 
          <h2 class="tutorial"><a name="run"></a>Запуск и распространение файла JAR </h2>
          <h3 class="tutorial">Запуск приложения в среде IDE</h3>
          <p>При разработке приложений в среде IDE их обычно следует протестировать и обновить перед распространением. Для тестирования приложения, над которым вы работаете, нужно просто запустить его из среды IDE.</p>
            <p>Для запуска проекта <tt>AnotherGrep</tt> в IDE, щелкните правой кнопкой мыши узел проекта в окне 'Проекты' и выберите 'Выполнить'.</p>
            <p>Должно открыться окно xGrep. Можно нажать кнопку Browse (&quot;Обзор&quot;) для выбора файла, в котором следует выполнить поиск текстового шаблона. В поле Search Pattern (&quot;Шаблон поиска&quot;) введите шаблон в виде текста или регулярного выражения, совпадения с которым следует искать, и нажмите кнопку Search (&quot;Поиск&quot;).  Все совпадения появятся в области Output (&quot;Выходные данные&quot;) окна xGrep.</p> 
            <p>Сведения о регулярных выражениях, которые можно использовать в приложении, доступны <a href="http://www.gnu.org/software/grep/manual/html_node/Regular-Expressions.html#Regular-Expressions">здесь</a> и во многих других местах.</p>



            <h3 class="tutorial">Запуск приложения вне среды IDE</h3>
            <p>По завершении работы над приложением и перед его распространением желательно убедиться, что оно также будет работать вне среды IDE.</p>
            <p>Запустить приложение вне среды IDE можно выполнив следующие действия:</p>
            <ul>
                <li>В диспетчере файлов системы (например, в окне &quot;Мой компьютер&quot; на системах Windows XР) перейдите к <tt><i>PROJECT_HOME</i>/dist</tt> и дважды щелкните файл <tt>AnotherGrep.jar</tt>. </li>
            </ul>
            <p>Если окно xGrep открылось, приложение запущено успешно.</p>
            <p>Если окно xGrep не открывается, то, скорее всего, отсутствует сопоставление между файлами JAR и средой выполнения Java. См. <a href="#troubleshooting">Устранение проблем с сопоставлениями файлов JAR</a> ниже.</p>

            <h3 class="tutorial">Распространение приложения другим пользователям</h3>       
            <p>Теперь, когда подтверждено, что приложение работает вне среды IDE, можно перейти к его распространению.</p>
                       
            <ul>
              <li>Отправьте файл JAR приложения всем, кто будет использовать приложение. Пользователи приложения смогут запускать его, дважды щелкнув файл JAR. Если у них это не получится, покажите им информацию в разделе <a href="#troubleshooting">Устранение проблем с сопоставлениями файлов JAR</a>, приведенную.</li>
            </ul>
            <p class="notes"><strong>Примечание.</strong> Если работа приложения зависит от дополнительных библиотек, помимо включенных в JDK, необходимо включить их в распространение (не относится к этому примеру). Относительные пути к этим библиотекам добавляются в запись <tt>classpath</tt> файла манифеста JAR при разработке приложения в среде IDE. Если эти дополнительные библиотеки не будут найдены по указанному пути класса (т.е. относительному пути) при запуске, приложение не запустится. <br> Создайте архив ZIP, содержащий файл JAR и библиотеку, после чего отправьте этот файл ZIP пользователям. Проинструктируйте пользователей распаковать этот архив ZIP так, чтобы файл JAR и файлы JAR библиотек были в одной папке. Запустите файл JAR приложения. 
      <!-- ===================================================================================== -->
    </p>
        <h2><a name="startapp"></a>Запуск приложения Java</h2>
            
        <p>Цель этого упражнения состоит в демонстрации некоторых из способов запуска приложения из командной строки.</p>     
       
        <p>В данном упражнении показано, как можно запустить приложение Java следующими двумя способами:</p>
        <ul>
            <li>Выполнение команды <tt>java</tt> из командной строки.</li>
            <li>Использование сценария для вызова класса в файле JAR.</li>
        </ul>
  
            <h3 class="tutorial"><a id="commandline" name="commandline"></a>Запуск приложений из командной строки</h3>
            <p>Приложение можно запустить из командной строки, используя команду <tt>java</tt>.  Если нужно выполнить исполняемый файл JAR, используйте параметр <tt>-jar</tt> команды.</p>
            <p>Например, для запуска приложения AnotherGrep надо выполнить следующие действия:</p>
            <ol>
                <li>Открыть окно терминала. На системах Microsoft Windows это делается путем нажатия кнопки &quot;Пуск&quot; и выбора &quot;Выполнить...&quot;, ввода <tt>cmd</tt> в поле &quot;Открыть:&quot; и нажатия кнопки &quot;OК&quot;.</li>
                <li>Перейдите в каталог <tt><i>PROJECT_HOME</i>/dist</tt> (используя команду <tt>cd</tt>).</li>
                <li>Введите следующую строку для запуска главного класса приложения:
                <pre class="examplecode">java -jar AnotherGrep.jar</pre></li>
            </ol>
            <p>Если эти инструкции выполнены, а приложение не запускается, вероятно, следует выполнить одно из следующих действий:</p>
            <ul>
                <li>Включить полный путь к двоичному файлу <tt>java</tt> в третий этап данной процедуры. Например, необходимо будет ввести путь наподобие следующего, в зависимости от расположения файла JDK или JRE:
                  <pre class="examplecode">C:\Program Files\Java\jdk1.7.0_51\bin\java -jar AnotherGrep.jar</pre>
                </li>
                <li>Добавить двоичные файлы Java к переменной среды PATH, чтобы отпала необходимость указывать путь к двоичному файлу <tt>java</tt> из командной строки.  См. <a href="#path">Установка переменной среды PATH</a></li>
            </ul>

            <h3 class="tutorial"><a name="script"></a>Запуск приложений из сценария</h3>
            <p>Если приложение, которое необходимо распространить, является консольным приложением, может оказаться, что его удобнее запускать из сценария, особенно если для запуска приложения требуются длинные и сложные аргументы. В этом разделе мы используем консольную версию Grep, в которой необходимо передать аргументы (шаблон поиска и список файлов) файлу JAR, вызываемому в нашем сценарии.  Для сокращения объема, вводимого в командную строку, мы используем простой сценарий, подходящий для запуска тестового приложения.</p>
            <p>В первую очередь необходимо изменить главный класс в приложении на консольную версию класса и построить файл JAR заново:</p>
            <ol>
                <li>В окне 'Проекты' в IDE щелкните правой кнопкой мыши узел проекта (<tt>AnotherGrep</tt>) и выберите 'Свойства'.</li>
                <li>Выберите узел Run (&quot;Запуск&quot;) и измените свойство Main Class (&quot;Главный класс&quot;) на <tt>anothergrep.Grep</tt> (с <tt>anothergrep.xGrep</tt>).  Нажмите кнопку &quot;ОК&quot;, чтобы закрыть окно Project Properties (&quot;Свойства проекта&quot;).</li>
                <li>Снова щелкните правой кнопкой мыши узел проекта и выберите Clean and Build Project (&quot;Очистка и сборка проекта&quot;).</li>
            </ol>
            <p>По завершении этих действий файл JAR будет собран заново, а атрибут <tt>Main-Class</tt> в манифесте файла JAR будет указывать на <tt>anothergrep.Grep</tt>.</p>
         
    <h4>Сценарий <a href="http://www.gnu.org/software/bash/bash.html">bash</a> &ndash; для компьютеров под управлением UNIX и Linux</h4>
                <p>
                    В папке, куда было извлечено содержимое файла <a href="https://netbeans.org/projects/samples/downloads/download/Samples%252FJava%252FDeploymentTutorial.zip" target="_blank">DeploymentTutorial.zip</a>, можно найти сценарий bash с именем <tt>grep.sh</tt>. Давайте посмотрим на него:</p>
              <pre class="examplecode">#!/bin/bash
                    java -jar dist/AnotherGrep.jar $@</pre>
                
                <p>
                    Первая строка указывает, какой интерпретатор команд следует использовать для интерпретации этого сценария. Вторая исполняет файл JAR, созданный средой IDE в папке <tt><i>PROJECT_HOME</i>/dist</tt>. <tt>$@</tt> просто копирует все переданные сценарию аргументы, заключая каждый в кавычки.
                </p>
                <p>
                    Данный сценарий подразумевает, что двоичные файлы Java являются частью переменной среды PATH. Если данный сценарий не работает на вашем компьютере, см. <a href="#path">Установка переменной среды PATH</a>.
                </p>
            
                <p>
                    Дополнительные сведения о написании сценариев для интерпретатора bash можно найти <a href="http://www.gnu.org/software/bash/manual/bashref.html">здесь</a>.
                </p>
            
                <h4>Сценарий .bat для компьютеров Windows</h4>
                <p>
                    На компьютерах Microsoft Windows пакетным файлам можно одновременно передавать не более девяти аргументов. При наличии более девяти аргументов файл JAR будет необходимо исполнить несколько раз.
                </p>
                <p>Сценарий для этого может выглядеть следующим образом:</p>
              <pre class="examplecode">
                @echo off
                set jarpath=&quot;dist/AnotherGrep.jar&quot;
                set pattern=&quot;%1&quot;
                shift
                :loop
                  if &quot;%1&quot; == &quot;&quot; goto :allprocessed
                  set files=%1 %2 %3 %4 %5 %6 %7 %8 %9
                  java -jar %jarpath% %pattern% %files%
                  for %%i in (0 1 2 3 4 5 6 7 8) do shift
                goto :loop

                :allprocessed
                    </pre>
                    <p>Данный сценарий можно найти под названием <tt>grep.bat</tt> в папке, куда было извлечено содержимое архива <a href="https://netbeans.org/projects/samples/downloads/download/Samples%252FJava%252FDeploymentTutorial.zip" target="_blank">DeploymentTutorial.zip</a>, если необходимо увидеть его в действии.
                </p>
                <p>
                    Девять аргументов представлены внутри пакетного файла как <tt>%&lt;ARG_NUMBER&gt;</tt>, где <tt>&lt;ARG_NUMBER&gt;</tt> должен иметь значение в пределах <tt>&lt;0-9&gt;</tt>. <tt>%0</tt> зарезервировано для имени сценария.
                </p>
                <p>
                    Можно увидеть, что за раз (в одном цикле) программе передаются только девять аргументов. Оператор <tt>for</tt> просто смещает аргументы на девять, чтобы подготовить их к следующему циклу. Цикл завершается по обнаружении пустого аргумента файла оператором <tt>if</tt> (это указывает на отсутствие новых файлов для обработки).
                </p>
                <p>
                    Дополнительные сведения о пакетных сценариях можно найти на <a href="http://www.microsoft.com/resources/documentation/windows/xp/all/proddocs/en-us/batch.mspx">этой странице</a>.                </p>
                <h2><a name="javaws"></a>Пакетирование приложения для Java Web Start</h2>
                <p>Java Web Start представляет собой технологию, используемую для запуска приложений Java из веб-браузера одним щелчком мыши. Подробные сведения об упаковке приложений для развертывания с помощью Java Web Start см. в разделе <a href="../../73/java/javase-jws.html">Включение Java Web Start в IDE NetBeans</a>. Здесь мы приводим только краткое описание действий, необходимых, чтобы сделать приложение развертываемым с помощью Java Web Start. </p>
                <ol>
                  <li>Щелкните правой кнопкой мыши узел проекта в окне Projects (&quot;Проекты&quot;) и выберите Properties (&quot;Свойства&quot;).</li>
                  <li>На вкладке Web Start окна Project Properties (&quot;Свойства проекта&quot;) установите флажок Enable Web Start (&quot;Активировать Web Start&quot;).</li>
                  <li>Выберите Local Execution (&quot;Локальное исполнение&quot;) из раскрывающегося списка Codebase (&quot;Кодовая база&quot;), поскольку мы будем тестировать только локальное исполнение.</li>
				  <li>Нажмите кнопку 'Настроить', чтобы подписать приложение, указав сведения в диалоговом окне 'Подписание'. 
				    <p class="notes"><b>Примечание.</b> Начиная с обновления Java SE 7 Update 21, выпущенного в апреле 2013 г., рекомендуется использование подписанных доверенных сертификатов для всех Java-аплетов и приложений Web Start Для получения дополнительной информации см. <a href="http://www.oracle.com/technetwork/java/javase/tech/java-code-signing-1915323.html">Апплеты Java и Web Start - подпись кода</a>.</p>
				  </li>
                  <li>Сохраните все прочие параметры по умолчанию и нажмите кнопку &quot;OК&quot;. </li>
                  <li>Щелкните правой кнопкой мыши узел проекта и выберите Clean and Build Project (&quot;Очистка и сборка проекта&quot;). <br> Данная команда среды IDE удалит все ранее скомпилированные файлы и результаты сборок, скомпилирует приложение заново и соберет проект с новыми параметрами. </li>
                  <li>Вне среды IDE откройте папку <tt><i>PROJECT_HOME</i>/dist</tt>, после чего откройте файл <tt>launch.html</tt> в своем браузере.<br> Появится тестовая страница HTML с кнопкой Launch (&quot;Запуск&quot;). </li>
                  <li>Нажмите кнопку Launch, чтобы открыть приложение. <br> Можно будет увидеть, что Java загружена и приложение запускается. 
				  <p class="notes"><b>Примечание.</b> Некоторые браузеры сначала перенаправляют пользователей на страницу загрузок Java.</p></li>
                </ol>
            <h2 class="tutorial"><a name="troubleshooting"></a>Советы по устранению проблем </h2>
            <h3 class="tutorial"><a name="jarfiles"></a>Указание сопоставлений файлов JAR </h3>
            <p>На большинстве компьютеров исполняемый файл JAR можно исполнить, просто дважды щелкнув его. Если при двойном щелчке файла JAR ничего не происходит, это может быть вызвано одной из двух следующих причин:</p>
            <ul>
              <li>Тип файлов JAR не сопоставлен со средой выполнения Java (JRE) на этом компьютере.
                <p>Если тип файлов JAR сопоставлен с JRE, значок, представляющий этот файл, должен включать логотип Java.</p>
              </li>
              <li>Тип файлов JAR сопоставлен JRE, но параметр <tt>-jar</tt> не входит в команду, передаваемую JRE при двойном щелчке значка.</li>
    </ul>
            <p class="notes"><b>Примечание.</b> Иногда связи файлов JAR переключаются установленным ПО, например, программным обеспечением для обработки файлов в формате zip.</p>
            <p>Способ, которым тип файлов JAR можно привязать к средству запуска <tt>java</tt>, зависит от операционной системы.  </p>
            <p class="notes"><b>Примечание.</b> Убедитесь, что на вашем компьютере установлена одна из версий JRE.  Следует использовать версию 1.4.2 или более поздние.  Приложения Java нельзя запускать на компьютерах, где не установлена платформа Java. (В случае установки комплекта для разработчика на языке Java (JDK) с ним устанавливается и JRE. Однако если программа распространяется не только среди программистов, у пользователей может не быть JRE или JDK.)</p>
                <ul>
				<li>На Windows XP установленную версию Java можно проверить выбрав &quot;Пуск&quot; &gt; &quot;Панель управления&quot; &gt; (&quot;Установка и удаление программ&quot;) (там должна быть указана, например, Java(TM) 7 Update 51). </li>
				<li>В Windows Vista или 7 установленную версию Java можно проверить, выбрав "Пуск > Панель управления > Программы и компоненты" (там должно отображаться название версии, например Java(TM) 7 Update 51). </li>
				</ul>
                <p>Если на компьютере отсутствует платформа Java, JRE можно загрузить с <a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html" target="_blank">сайта загрузок Java SE</a>.</p>
                <p>Если же она уже имеется на компьютере, но сопоставление файлов не работает, выполните действия для добавления связи файла JAR в Microsoft Windows:</p>
              <ol>
              <li>Выберите &quot;Пуск&quot; &gt; &quot;Панель управления&quot;.</li>
			  <li>(Применимо только к Windows Vista). Щелкните 'Панель управления' > 'Программы'.</li>
              <li>В Windows XP дважды щелкните 'Свойства папки' и выберите вкладку 'Типы файлов'.<br> Для Windows Vista или 7 щелкните 'Программы по умолчанию' и выберите 'Связать тип файла или протокол с программой'.</li>
              <li>В списке &quot;Зарегистрированные типы файлов&quot; выберите файл JAR.</li>
              <li>(В Windows XP в разделе &quot;Сведения&quot; диалогового окна щелкните &quot;Изменить программу&quot;).</li>
              <li>В диалоговом окне &quot;Выбор программы&quot; выберите Java Platform SE Binary.</li>
              <li>Нажмите кнопку &quot;OК&quot; для выхода из диалогового окна &quot;Выбор программы&quot;.</li>
              <li>Нажмите кнопку 'Закрыть', чтобы закрыть диалоговое окно 'Свойства папки' (в Windows XP) или диалогового окна связывания типа файла или протокола с конкретными программами (в Windows 7).</li>
            </ol>
            <p class="notes"><b>Примечание.</b>  Если файлы JAR files связаны с Java Platform SE Binary в системе, но двойной щелчок все равно не запускает файл JAR, может потребовать указание параметра <tt>-jar</tt> в связи файлов.</p>
            <p>Чтобы указать параметр <tt>-jar</tt> в сопоставлении файла на Microsoft Windows XP, выполните следующие действия.</p>
            <ol>
              <li>Выберите &quot;Пуск&quot; &gt; &quot;Панель управления&quot;.</li>
			  <li>В Windows XP дважды щелкните 'Свойства папки' и выберите вкладку 'Типы файлов'.</li>
              <li>В списке &quot;Зарегистрированные типы файлов&quot; выберите файл JAR.</li>
              <li>В разделе &quot;Сведения&quot; диалогового окна щелкните &quot;Дополнительно&quot;.</li>
              <li>В диалоговом окне &quot;Изменение свойств типа файлов&quot; щелкните &quot;Изменить...&quot;.</li>
              <li>В текстовом поле &quot;Приложение, исполняющее действие&quot; добавьте следующую строку в конце пути к JRE:
                <pre class="examplecode"> -jar &quot;%1&quot; %*</pre>
                После этого поле должно содержать текст, подобный следующему:
                <pre class="examplecode">&quot;C:\Program Files\Java\jre1.7.0_51\bin\javaw.exe&quot; -jar &quot;%1&quot; %*</pre>
              </li>
              <li>Нажмите кнопку &quot;OК&quot; для выхода из  диалогового окна &quot;Изменение действия для типа&quot;.</li>
              <li>Нажмите кнопку &quot;OК&quot; для выхода из диалогового окна &quot;Изменение свойств типа файлов&quot;.</li>
              <li>Нажмите кнопку &quot;Закрыть&quot; для выхода из диалогового окна &quot;Свойства папки&quot;.</li>
            </ol>
			<p class="notes"><b>Примечание.</b> Начиная с Windows Vista расширенные связи файлов можно настроить с помощью RegEdit. Дополнительные сведения см. в статье <a href="http://technet.microsoft.com/en-us/magazine/ee914604.aspx">Что произошло с диалоговым окном типов файлов?</a>.</p>
            <p>Для систем UNIX и Linux процедура изменения сопоставлений файлов зависит от того, какая рабочая среда (вроде GNOME или KDE) используется.  Загляните в параметры своей рабочей среды или ознакомьтесь с документацией по рабочей среде.</p>
            <h3 class="tutorial"><a name="path"></a>Установка переменной среды PATH </h3>
            Если на компьютере невозможно запустить класс Java или файл JAR без указания на местоположение JDK или JRE, возможно, следует изменить значение переменной среды <tt>PATH</tt> системы.
            <p>При работе в системе Microsoft Windows процедура установки переменной PATH зависит от используемой версии Windows.</p>
            <p>Ниже приведены этапы установки переменной <tt>PATH</tt> на системе Windows XP:</p>
            <ol>
                <li>Выберите &quot;Пуск&quot; &gt; &quot;Панель управления&quot; и дважды щелкните &quot;Система&quot;.</li>
                <li>В диалоговом окне &quot;Свойства системы&quot; выберите вкладку &quot;Дополнительно&quot;.</li>
                <li>Щелкните вкладку &quot;Переменные среды&quot;.</li>
                <li>В списке переменных среды пользователя выберите <tt>PATH</tt> и нажмите кнопку &quot;Изменить&quot;.</li>
            <li>Добавьте местоположение JRE к концу списка путей. Местоположения в списке разделены точками с запятой (;). <br> Например, если JRE установлен в каталог <code>C:\Program Files\Java\jdk1.6.0_51</code>, в конец переменной PATH необходимо добавить следующее:
                <pre class="examplecode">C:\Program Files\Java\jdk1.7.0_51\bin</pre>
            </li>
                <li>Нажмите кнопку &quot;OК&quot; для выхода из диалогового окна &quot;Переменные среды&quot;, затем нажмите кнопку &quot;ОК&quot; для выхода из диалогового окна &quot;Свойства системы&quot;.</li>
            </ol>
            <p>При работе в операционной системе UNIX или Linux способ изменения переменной среды PATH зависит от используемой программы интерпретатора команд.  Ознакомьтесь с документацией по интерпретатору команд для получения дополнительных сведений.</p>


<div class="feedback-box"><a href="/about/contact_form.html?to=3&subject=Feedback:%20Packaging%20and%20Distributing%20Java%20Desktop%20Applications">Отправить отзыв по этому учебному курсу</a></div>
<br style="clear:both;" >
        <h2><a name="nextsteps"></a>Что дальше?</h2>
        <div><p>Дополнительные сведения о работе с IDE NetBeans см. на странице <a href="https://netbeans.org/kb">Поддержка и документация</a> веб-сайта NetBeans.</p>
        <p>Дополнительные сведения о разработке приложений Java в среде IDE, включая управление путем к классам, доступны в документе <a href="javase-intro.html">Разработка базовых приложений Java</a>.</p>
		<p>Сведения о функциях сборки в IDE NetBeans см. в разделе <a href="http://www.oracle.com/pls/topic/lookup?ctx=nb8000&id=NBDAG510">Сборка проектов Java</a> документа <i>Разработка приложений в IDE NetBeans</i>.</p></div>
    </body>
</html>
