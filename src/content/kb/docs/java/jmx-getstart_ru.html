<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--
Copyright (c) 2009, 2010, 2011, Oracle and/or its affiliates. All rights reserved.
-->

<html>
<head>
  <title>Введение в мониторинг JMX в IDE NetBeans</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" >
  <meta name="description" content="Getting Started with JMX module">
  <link rel="stylesheet" href="../../../netbeans.css">
  <meta name="author" content="Jean-Francois Denise">
  <meta name="author" content="Joel FERAUD">
  <meta name="KEYWORDS" content="NETBEANS, TUTORIAL, GUIDE, USER, DOCUMENTATION, JMX">
  <meta name="description" content="An introductory guide to using JMX technology in NetBeans IDE"/>

</head>

<body>
    
<h1>Введение в мониторинг JMX в IDE NetBeans</h1>



<p>Модуль NetBeans JMX интегрирует технологию JMX в рабочие процессы IDE NetBeans. Этот модуль позволяет быстро разрабатывать управляющие приложения, добавлять функции управления в существующие приложения, разрабатывать приложения-диспетчеры и контролировать состояние виртуальной машины. </p>
  
  <p>В новой версии данного документа добавлена информация о модуле JMX Wizard 3.0 для NetBeans IDE 6.5 и более поздних версий, который работает на платформах JDK 6 или JDK 7. Модуль JMX можно загрузить в Центре обновлений.</p>
  

<p class="note"> <b>Примечание.</b> В этом документе в кратком и сжатом виде приведены основные сведения о модуле JMX для IDE NetBeans. Более подробную информацию можно получить, выполнив задания в разделе <a href="jmx-tutorial.html">Добавление оркестровки JMX в приложение Java</a> Практического руководства по модулю JMX.</p> 


<p>В этом кратком руководстве представлен обзор возможностей модуля JMX:</p>
<img alt="Содержимое на этой странице применимо к IDE NetBeans 7.2, 7.3, 7.4 и 8.0" class="stamp" src="../../../images_www/articles/73/netbeans-stamp-80-74-73.png" title="Содержимое этой страницы применимо к IDE NetBeans 7.2, 7.3, 7.4 и 8.0">
<ul>
  <li>Мастеры для создания компонентов JMX MBean и диспетчеров.</li>
  <li>Обновление существующих компонентов MBean путем добавления атрибутов и операций, реализации интерфейса <tt>MBeanRegistration</tt> или интерфейса <tt>NotificationEmitter</tt>.</li>
  <li>Создание компонента MBean на основе существующего класса Java.</li>
  <li>Регистрация компонентов MBean на сервере Java Platform MBean Server.</li>
  <li>Возможность запуска консоли управления платформой Java (JConsole).</li>
  <li>Возможность запуска и отладки приложений в консоли JConsole.</li>
  <li>Образец приложения на основе игры Anagram для демонстрации добавления возможностей JMX в собственное приложение.</li>
  <li>Мастер для создания файла свойств управления, позволяющего запускать защищенные управляемые виртуальные машины Java (JVM).</li>
  <li>Онлайн-справка.
  <li>Практические руководства доступны на сайте <a href="../../index.html">netbeans.org</a>.</li>
</ul>


<h3>Предпосылки</h3>
<p>Предполагается, что читатель обладает базовыми знаниями или опытом программирования по следующим технологиям. </p>
    <ul>
        <li>Технология JMX. <a href="http://download.oracle.com/javase/6/docs/technotes/guides/jmx/index.html"> Онлайн-документация JMX</a>
            </li>
        <li>Технология Java. <a href="http://www.oracle.com/technetwork/java/javase/tech/index.html"> Краткий обзор технологий Java SE</a>
            </li>
        <li>IDE NetBeans</li>
    </ul>
<p>Знания в области <a href="http://download.oracle.com/javase/6/docs/technotes/guides/management/index.html"> мониторинга и управления платформой Java</a> будут преимуществом.</p>

<h3>Программное обеспечение, требуемое для работы с данным учебным курсом.</h3>
<p>Для работы с этим учебным курсом на компьютере должно быть установлено следующее программное обеспечение.</p>
<table>
    <tbody>
    <tr>
        <th class="tblheader" scope="col">Программное обеспечение или ресурс</th>
        <th class="tblheader" scope="col">Требуемая версия</th>
    </tr>
    <tr>
        <td class="tbltd1"><a href="https://netbeans.org/downloads/index.html">IDE NetBeans</a></td>
        <td class="tbltd1">пакет Java, версии 7.2, 7.3, 7.4, 8.0</td>
    </tr>
    <tr>
        <td class="tbltd1"><a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">Комплект для разработчика на языке Java (JDK)</a></td>
        <td class="tbltd1">версия 7 или 8</td>
    </tr>
    <tr>
        <td class="tbltd1">Подключаемый модуль JMX</td>
        <td class="tbltd1">Доступен в Центре обновлений NetBeans</td>
    </tr>
    <tr>
        <td class="tbltd1">Подключаемый модуль JConsole</td>
        <td class="tbltd1">Доступен в Центре обновлений NetBeans</td>
    </tr>
    </tbody>
</table>

<p>Чтобы установить подключаемые модули <strong>JMX</strong> и <strong>JConsole</strong>, выберите Сервис > Подключаемые модули и загрузите модули из Центра обновлений NetBeans.</p>

<h2>Работа с мастерами JMX</h2>
<p>После установки подключаемого JMX и открытия проекта можно запустить мастер JMX. Для этого выберите Файл > Создать файл (Ctrl-N), затем выберите категорию JMX. После этого можно выбрать один из следующих вариантов:</p>
<ul>
  <li><b>Файл конфигурации управления.</b> Стандартный файл свойств Java, в котором хранится конфигурация управления JMX, в частности, параметры удаленных подключений и безопасности.</li>
    
  <li><b>Несколько типов компонентов JMX MBean.</b> Компонент MBean может представлять устройство, приложение или любой другой контролируемый ресурс. Компоненты MBean предоставляют интерфейс управления: набор доступных для чтения/записи атрибутов и набор вызываемых операций, а также самоописание. Этот интерфейс управления не меняется на протяжении всего жизненного цикла экземпляра MBean. Компоненты MBean также могут генерировать уведомления при возникновении определенных событий. Компоненты JMX MBean должны быть зарегистрированы на сервере MBean.</li>

  <li><b>Диспетчер JMX.</b> Диспетчер JMX - это любое приложение, которое подключается к удаленному серверу JMX MBean.<br /> <img alt="снимок мастеров создания файлов JMX" class="margin-around b-all" src="../../../images_www/articles/74/java/jmx/jmx-newfile.png" title="Мастеры создания файлов в категории JMX" /></li>
</ul>


<h2>Обновление компонентов MBean</h2>
<p>В компоненты MBean можно добавлять атрибуты и операции. Для этого используются команды контекстного меню JMX, при выборе которых открывается диалоговое окно. Также в компоненты MBean можно добавить реализацию интерфейса <tt>NotificationEmitter</tt>.</p>

<p>Чтобы обновить компонент MBean, выберите файл Java с классом MBean в дереве проектов и щелкните правой кнопкой мыши на узле, чтобы открыть контекстное меню JMX. Также можно просто щелкнуть правой кнопкой мыши в файле Java с классом MBean, открытом в редакторе, и выбрать нужную команду контекстного меню.</p>
  
  <p>Эти действия показаны в упражнении 3 практического руководства <a href="jmx-tutorial.html#Exercise_3">Добавление оркестровки JMX в приложение Java</a>.</p>
  
<h2>Регистрация компонентов MBean</h2>

<p>Для удаленного подключения компонентов MBean и управления приложением необходимо, чтобы компоненты MBean были зарегистрированы на сервере MBean.</p>
<p>Сервер MBean - центральный элемент технологии JMX. Он хранит ссылки на все зарегистрированные компоненты MBean, отправляет уведомления о регистрации или удалении компонентов MBean, а также разрешает удаленные подключения для предоставления атрибутов и операций зарегистрированных на нем компонентов MBean. Если у вас недостаточно знаний о роли сервера MBean, ознакомьтесь с документацией API <tt> <a href="http://download.oracle.com/javase/6/docs/api/javax/management/MBeanServer.html"> javax.management.MBeanServer</a></tt>.</p>

<p>Начиная с JDK 5, платформа Java включает в себя стандартный сервер MBean - Platform MBean Server. Этот сервер позволяет контролировать состояние виртуальной машины JVM, но на нем также можно регистрировать компоненты MBean. Дополнительные сведения о сервере Java Platform MBean см. в документации API <tt> <a href="http://download.oracle.com/javase/6/docs/api/java/lang/management/ManagementFactory.html"> java.lang.management.ManagementFactory </a></tt>.</p>

<p>Фрагмент кода приложения, в котором будут зарегистрированы компоненты MBean, определяется логикой. Как правило, это фаза инициализации класса Main. Щелкните правой кнопкой мыши в редакторе в том месте, где хотите создать код регистрации компонента MBean, выберите подменю JMX и команду 'Создать регистрацию MBean...'.</p>
  
    <p>Это действие показано в упражнении 5 практического руководства <a href="jmx-tutorial.html#Exercise_5"> Добавление оркестровки JMX в приложение Java</a>.</p>

    
    
<h2>Реализация и исполнение управляемых приложений</h2>

<p>JConsole - совместимый с JMX графический инструмент, предназначенный для мониторинга виртуальной машины Java. JConsole позволяет контролировать как локальные, так и удаленные виртуальные машины JVM. Также с помощью этой консоли можно контролировать приложения JMX и управлять ими.</p>

<p>Далее описана типичная процедура реализации и исполнения управляемых приложений:</p>
<ol>
  <li>Создание компонентов MBean </li>
  <li>Добавление реализации в компоненты MBean </li>
  <li>Создание кода регистрации компонентов MBean</li>
  <li>Запуск или отладка проекта в JConsole.</li>
</ol> 

<p>После установки подключаемых модулей JMX и JConsole на панели инструментов появятся следующие кнопки. Эти команды также доступны в пункте 'Отладка' главного меню.</p>
<table>
    <tbody>
    <tr>
        <th class="tblheader" scope="col">Кнопка</th>
        <th class="tblheader" scope="col">Описание</th>
    </tr>
    <tr>
        <td class="tbltd1"><img alt="Кнопка &apos;Запуск основного проекта с функциями мониторинга и управления&apos; на панели инструментов" class="margin-around" src="../../../images_www/articles/74/java/jmx/run-project24.png" title="Кнопка &apos;Запуск основного проекта с функциями мониторинга и управления&apos;" /></td>
        <td class="tbltd1">Запуск основного проекта с функциями мониторинга и управления</td>
    </tr>
    <tr>
        <td class="tbltd1"><img alt="Кнопка &apos;Отладка основного проекта с функциями мониторинга и управления&apos; на панели инструментов" class="margin-around" src="../../../images_www/articles/74/java/jmx/debug-project24.png" title="Кнопка &apos;Отладка основного проекта с функциями мониторинга и управления&apos;" /></td>
        <td class="tbltd1">Отладка основного проекта с функциями мониторинга и управления</td>
    </tr>
    <tr>
        <td class="tbltd1"><img alt="Кнопка &apos;Открыть консоль управления JConsole&apos; на панели инструментов" class="margin-around" src="../../../images_www/articles/74/java/jmx/console24.png" title="Кнопка &apos;Открыть консоль управления JConsole&apos;" /></td>
        <td class="tbltd1">Открыть консоль управления JConsole</td>
    </tr>
    </tbody>
</table>

<p class="notes"><strong>Примечание.</strong> JConsole является компонентом платформы Java и может использоваться независимо от IDE. Подробные сведения:</p>
<ul>
    <li>Главная страница <a href="http://download.oracle.com/javase/6/docs/technotes/tools/share/jconsole.html"><tt>jconsole</tt> </a></li> 
    <li><a href="http://download.oracle.com/javase/6/docs/technotes/guides/management/jconsole.html">Документ 'Использование JConsole'</a></li>
</ul>

<h2>Запуск демонстрационного приложения</h2>

<p>В состав модуля JMX входит демонстрационное приложение со встроенными функциями мониторинга JMX.</p>
<ol>
  <li>Выберите команду &quot;Файл&quot; &gt; &quot;Новый проект&quot;.</li>
  <li>В разделе 'Образцы' выберите категорию JMX.</li>
  <li>Выберите проект 'Игра Anagram под управлениемJMX'. <br /> <img alt="снимок проекта &apos;Игра Anagram под управлениемJMX&apos; в мастере создания проектов" class="margin-around b-all" src="../../../images_www/articles/74/java/jmx/jmx-newproject.png" title="Проект &apos;Игра Anagram под управлениемJMX&apos; в мастере создания проектов" width="600" />
 </li>
 
  <li>Нажмите 'Далее'. Имя проекта и местоположение по умолчанию можно не менять. Убедитесь, что установлен флажок &quot;Задать в качестве основного проекта&quot;. Нажмите кнопку 'Готово'.
  <p class="notes"><strong>Примечания.</strong> Среда IDE может запросить разрешение на установку библиотеки JUnit, если вы не установили подключаемый модуль JUnit ранее. Вы можете нажать 'Разрешить' в диалоговом окне 'Разрешить проблему с ссылками' для запуска программы установки подключаемого модуля JUnit. В качестве альтернативы вы можете установить подключаемый модуль JUnit в диспетчере подключаемых модулей.</p>
  </li>
  <li>Когда проект создан и выбран в качестве основного, запустите его в консоли JConsole, нажав на кнопку 'Запуск основного проекта с функциями мониторинга и управления'.
  <p class="notes"><strong>Примечания.</strong> Вы можете увидеть предупреждение о сбое подключения на консоли управления и мониторинга Java при попытке консоли подключиться к процессу Anagram Game. Для этой учебной программы вы можете нажать Ненадежно, когда вам будет предложено разрешить подключение.</p>
  
  <p>При нажатии на эту кнопку запускается игра Anagram:</p>
  <img alt="Игра Anagram" class="margin-around b-all" src="../../../images_www/articles/74/java/jmx/jmx-anagram.png" title="Игра Anagram" />
  
  <p>Также отображается окно JConsole.</p>
  </li>
  <li>В окне JConsole перейдите на вкладку MBeans и в дереве слева откройте все узлы под <tt>anagrams.toy.com</tt>, как показано на рисунке.<br /> <img alt="снимок окна JConsole" class="margin-around b-all" src="../../../images_www/articles/74/java/jmx/jmx-jconsole1.png" title="Окно JConsole" />
  </li>
  <li>Выберите узел 'Уведомления' и нажмите кнопку 'Подписаться' в нижней части окна консоли. После этого JConsole будет получать уведомления при расшифровке каждой анаграммы.</li>
  <li>Теперь перейдите в окно игры Anagram и расшифруйте первые три или четыре анаграммы (ответы находятся в классе WordLibrary: abstraction, ambiguous, arithmetic, backslash...)</li>
  <li>Вернитесь в консоль JConsole. Вы увидите, что получено четыре уведомления.</li>
  <li>При нажатии на узел 'Атрибуты' видно, что атрибуты обновлены: <br /> <img alt="Снимок окна JConsole с обновленными значениями" class="margin-around b-all" src="../../../images_www/articles/74/java/jmx/jmx-jconsole2.png" title="Окно JConsole с обновленными значениями" width="600" /></li>
</ol>

<div class="feedback-box">
            <a href="/about/contact_form.html?to=3&amp;subject=Feedback:%20Getting%20Started%20with%20JMX%20Monitoring">Отправить отзыв по этому учебному курсу</a></div>
        
        <br style="clear:both;">
            
<h2>См. также</h2>
<p>В этом документе в кратком и сжатом виде приведены основные сведения о модуле JMX для IDE NetBeans. Более подробную информацию можно найти в практическом руководстве по модулю JMX:</p>
<ul>
    <li><a href="jmx-tutorial.html">Добавление инструментов JMX к приложению, написанному на Java</a></li>
</ul>
</body>
</html>
