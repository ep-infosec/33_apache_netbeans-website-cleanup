<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--
Copyright (c) 2009 - 2014, Oracle and/or its affiliates. All rights reserved.
-->

<html>

    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" >
        <title>Привязка данных компонентов Beans &amp; в приложении Java - учебный курс по IDE NetBeans</title>
        <meta name="KEYWORDS" content="NETBEANS, TUTORIAL, GUIDE, USER, DOCUMENTATION">
        <meta name="description" content="This guide is an introduction to the support in NetBeans IDE for beans
              binding and data binding in Java applications." >
        <link rel="stylesheet" href="../../../netbeans.css">
    </head>
    <body>
        <h1>Привязка компонентов и данных в приложении Java</h1>
        <p>Настоящее руководство является введением в поддержку в IDE NetBeans для привязок компонентов Bean и привязок данных в приложениях Java.</p>
        <p><b>Содержание</b></p>
        <img alt="Содержимое на этой странице применимо к IDE NetBeans 7.1, 7.2, 7.3, 7.4 и 8.0" class="stamp" src="../../../images_www/articles/73/netbeans-stamp-80-74-73.png" title="Содержимое на этой странице применимо к IDE NetBeans 7.1, 7.2, 7.3, 7.4 и 8.0">
        <ul class="toc">
            <li><a href="#intro">Введение. Привязка компонентов Bean в IDE NetBeans</a></li>
            <li><a href="#prop-binding">Привязка свойств к другим свойствам</a></li>
            <li><a href="#prop-custom">Привязка особых компонентов</a></li>
            <li><a href="#prop-advanced">Расширенные свойства привязок</a></li>
            <li><a href="#data-binding">Привязка данных к компонентам</a></li>
            <li><a href="#prop-synth">Специальные свойства привязок</a></li>
        </ul>

        <p><b>Для работы с этим учебным курсом требуются программное обеспечение и ресурсы, перечисленные ниже.</b></p>

        <table>
            <tbody>
                <tr>
                    <th class="tblheader" scope="col">Программное обеспечение или материал</th>
                    <th class="tblheader" scope="col">Требуемая версия</th>
                </tr>
                <tr>
                    <td class="tbltd1"><a href="https://netbeans.org/downloads/index.html" target="_blank">IDE NetBeans</a></td>
                    <td class="tbltd1">версия 7.1, 7.2, 7.3, 7.4 или 8.0 </td>
                </tr>
                <tr>
                    <td class="tbltd1"><a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html" target="_blank">Комплект для разработчика на языке Java (JDK)</a></td>
                    <td class="tbltd1">версия 6 или более поздняя</td>
                </tr>
            </tbody>
        </table>
        <a name="intro"></a>
        <h2>Введение. Привязка компонентов Bean в IDE NetBeans</h2>

        <p>До выпуска библиотеки привязки компонентов подключение компонентов интерфейса пользователя к базам данных или обеспечение синхронизации значений свойств компонентов были не вполне удобными. Например, отображение данных из стандартной базы данных в JTable требовало создания вручную служебных классов для обработки подключения между базой данных и JTable.  Синхронизация же значений различных свойств компонентов (скажем, значения JTextField с визуализацией визуального компонента) требовало написания кода для прослушивателей и обработчиков событий вручную.</p>
        <p>Библиотека привязки компонентов упрощает и стандартизирует все это. Достаточно написать несколько строк кода, чтобы указать, какие свойства каких компонентов должны быть синхронизированы, с остальным же справится библиотека привязки компонентов. В IDE NetBeans функции привязки компонентов Bean интегрированы в конструкторе GUI, благодаря чему пользователи получают возможность быстрого создания кода режима работы приложения практически сразу после разработки визуальной структуры.</p>
        <p>Данное руководство является обзором основных аспектов привязки компонентов в среде IDE.
            </p>

        <a name="prop-binding"></a>
        <h2>Привязка свойств к другим свойствам</h2>
        <p>По своей сути привязка компонентов является способом подключения свойств компонентов без использования кода для прослушивания и обработки событий.</p>

        <p>Чтобы проиллюстрировать концепцию привязки компонентов и то, как ее поддерживает среда IDE, мы создадим простой пример, где пользователь может изменить числовое значение в текстовом поле, перемещая ползунок:</p>

        <p><b>Для настройки примера:</b></p>
        <ol>
            <li>В среде IDE выберите File (&quot;Файл&quot;) &gt; New Project (&quot;Создать проект&quot;).</li>
            <li>Выберите категорию Java и шаблон приложения Java. Нажмите кнопку &quot;Далее&quot;.</li>
            <li>На странице Name and Location (&quot;Имя и местоположение&quot;) мастера выполните следующие операции:
                <ul>
                    <li>Введите <tt>NumberSlider</tt> в текстовое поле имени проекта;</li>
                    <li>Не устанавливайте флажок &quot;Использовать отдельную папку для хранения библиотек&quot;.
                    <p class="align-center"><a href="../../../images_www/articles/80/java/gui-binding/numberslider.png" rel="lytebox" title="Страница &apos;Имя и местоположение&apos; мастера создания приложений Java"><img alt="Страница &apos;Имя и местоположение&apos; мастера создания приложений Java" border="1" src="../../../images_www/articles/80/java/gui-binding/numberslider-small.png"></a></p></li>
                    <li>Снимите флажок &quot;Создать главный класс&quot;.</li>
                </ul>
                	 
            </li>
            <li>Нажмите кнопку Finish (&quot;Готово&quot;), чтобы выйти из мастера и приступить к настройке проекта.</li>
            <li>В окне 'Проекты' щелкните правой кнопкой мыши узел проекта NumberSlider и выберите 'Создать' > 'Форма JFrame'.
                <p>(Если пункт JFrame Form отсутствует в меню New, выберите пункт Other (&quot;Другое&quot;).  Затем в мастере создания файлов выберите категорию Swing GUI Forms (&quot;Формы графического интерфейса Swing&quot;) и затем выберите шаблон JFrame Form.)</p>
            </li>
            <li>На странице Name and Location (&quot;Имя и местоположение&quot;) мастера выполните следующие операции:
                <ul>
                    <li>Введите <tt>NumberSliderFrame</tt> в поле имени класса.</li>
                    <li>Введите <tt>numberslider</tt> в поле имени пакета.</li>
                </ul>
				<p class="align-center">
		<a href="../../../images_www/articles/80/java/gui-binding/numberslider2.png" rel="lytebox" title="Страница &apos;Имя и местоположение&apos; мастера создания JFrame"> <img alt="Страница &apos;Имя и местоположение&apos; мастера создания JFrame" border="1" src="../../../images_www/articles/80/java/gui-binding/numberslider2-small.png"></a></p>
                
            </li>
            <li>Нажмите кнопку Finish (&quot;Готово&quot;) для выхода из мастера и создания формы.
            <p>В области редактирования должен открыться файл <tt>NumberSliderForm.java</tt> в режиме проектирования.</p>
            </li>
            <li>Перетащите компонент ползунка в область проектирования из раздела Swing (&quot;Элементы управления Swing&quot;) в Palette (&quot;Палитра&quot;). (Если окно палитры не открыто, выберите Window (&quot;Окно&quot;) &gt; Palette (&quot;Палитра&quot;)).</li>
            <li>Перетащите компонент текстового поля в область проектирования из окна палитры.  
                <p>Полученная форма может выглядеть подобно приведенному ниже снимку экрана. Но для данного примера позиция не важна.</p>
               
				<p class="align-center">
		<a href="../../../images_www/articles/80/java/gui-binding/slider-textfield.png" rel="lytebox" title="Форма с ползунком и текстовым полем добавлена к форме"> <img alt="Форма с ползунком и текстовым полем добавлена к форме" border="1" src="../../../images_www/articles/80/java/gui-binding/slider-textfield-small.png"></a></p>
            </li>
        </ol>
        <div class="indent">
            <h3>Источник и целевой объект</h3>
            <p>Теперь, когда пример настроен, можно создать привязку. Но сперва нужно определить, какой компонент будет <i>источником</i> привязки, а какой — <i>целевым объектом</i>.  От компонента источника привязки исходит значение для свойства.</p>
            <p>При привязке в редакторе графического интерфейса мы инициализируем привязку на целевом объекте и затем объявляем источник в диалоговом окне Bind (&quot;Привязка&quot;).</p>
            <p>В данном случае, поскольку у JSlider имеется диапазон значений по умолчанию, мы используем его как источник.</p>
            <p><b>Примечание.</b> Привязки могут быть двусторонними (чтение/запись), при этом обеспечивается автоматическое отражение изменение в элементе назначения в исходном коде. Но исходная привязка всегда производится от источника к целевому объекту. См. сведения о режиме обновления в разделе <a href="#prop-advanced">Расширенные свойства привязок</a>.</p>
            <p><b>Для привязки ползунка к текстовому полю выполните следующие действия.</b></p>
            <ol>
                <li>Щелкните правой кнопкой мыши компонент текстового поля и выберите Bind (&quot;Привязка&quot; &gt; text (&quot;текст&quot;), чтобы открыть диалоговое окно привязки.</li>
                <li>В поле со списком Binding Source (&quot;Источник привязки&quot;) выберите <tt>jSlider1</tt>.</li>
                <li>В поле со списком Binding Expression (&quot;Выражение привязки&quot;) выберите <tt>value int</tt>, как показано на изображении ниже.
                    
					<p class="align-center">
		<a href="../../../images_www/articles/80/java/gui-binding/bind-dialog.png" rel="lytebox" title="В поле со списком Binding Source (&amp;quot;Источник привязки&amp;quot;) можно выбрать следующие значения"> <img alt="В поле со списком Binding Source (&amp;quot;Источник привязки&amp;quot;) можно выбрать следующие значения" border="1" src="../../../images_www/articles/80/java/gui-binding/bind-dialog-small.png"></a></p>
                </li>
                <li>Нажмите кнопку &quot;ОК&quot;.</li>
            </ol>
            <p>Мы только что привязали свойство компонента ползунка <tt>value</tt> (&quot;значение&quot;) к значению текстового поля <tt>text</tt> (&quot;текст&quot;).</p>
            <p>Тестовое поле в области проектирования должно показывать значение <tt>50</tt>.  Это значение отражает то, что ползунок находится в среднем положении, а диапазон значений для ползунка по умолчанию составляет от 0 до 100.</p>
            <p>Теперь можно запустить приложение и увидеть привязку в действии.</p>

            <p>Выберите Run (&quot;Выполнить&quot;) &gt; Run File (&quot;Выполнить файл&quot;) для выполнения файла.</p>
                
            <p>Приложение должно запуститься в отдельном окне. Измените положение ползунка в работающем приложении. Значение в текстовом поле изменится.</p>
            <p class="align-center"><img alt="Выполнение приложения" class="margin-around" src="../../../images_www/articles/80/java/gui-binding/run-numberslider.png"></p>


            <!--TODO - note The syntax shown in the
    Binding Expression field comes from expression language syntax, which is similar to what is used in JSP and JSF
programming.-->
        </div>
        <a name="prop-custom"></a>
        <h2>Привязка особых компонентов</h2>
        <p>В предыдущем разделе мы выполнили привязку двух стандартных компонентов Swing, которые были добавлены к форме из Palette (&quot;Палитра&quot;).  Можно выполнить привязку свойств и для других компонентов. Но для этого необходимо выполнить несколько действий, чтобы сделать доступными функции среды IDE по созданию кода привязки для данного компонента. Чтобы сделать функции привязки среды IDE доступными для компонента, можно использовать один из следующих способов:</p>
        <ul>
            <li>Добавить компонент к палитре, чтобы его можно было добавить к форме, так же, как мы используем добавление стандартного компонента Swing.</li>
            <li>Добавить к проекту класс компонента и скомпилировать компонент.</li>
        </ul>
        <p>Чтобы добавить компонент к окну Palette (&quot;Палитра&quot;), выполните следующие действия.</p>
        <ol>
            <li>Убедитесь, что компонент скомпилирован.</li>
            <li>Выберите Tools (&quot;Сервис&quot;) &gt; Palette (&quot;Палитра&quot;) &gt; Swing/AWT Components (&quot;Компоненты Swing/AWT&quot;).</li>
            <li>Если для компонента нужно создать новую категорию палитры, выберите New Category (&quot;Создать категорию&quot;) и выберите нужное имя перед добавлением компонента.</li>
            <li>Щелкните Add from JAR (&quot;Добавить из файла JAR&quot;), Add from Library (&quot;Добавить из библиотеки&quot;) или Add from Project (&quot;Добавить из проекта&quot;), после чего завершите работу мастера, чтобы добавить компонент.</li>
        </ol>
        <p>Чтобы добавить компонент из проекта, выполните следующие действия.</p>
        <ol>
            <li>В окне 'Проект' щелкните правой кнопкой мыши узел для компонента и выберите 'Компилировать файл'.</li>
            <li>Перетащите компонент в форму.
                <p>Компонент должен появиться в окне инспектора. После этого можно вызвать диалог привязки для любого из свойств компонента.</p></li>
        </ol>


        <a name="prop-advanced"></a>
        <h2>Расширенная настройка привязки</h2>
        <p>В примере в первом разделе данного руководства показана простая привязка с некоторыми поведениями по умолчанию. Но порой привязки бывает необходимо или желательно настроить иначе. В этом случае следует использовать вкладку Advanced (&quot;Дополнительно&quot;) диалогового окна Binding (&quot;Привязка&quot;).</p>

        <p>Вкладка Advanced (&quot;Дополнительно&quot;) диалогового окна состоит из следующих полей:</p>
        <ul>
            <li><b>Имя. </b>Позволяет создать имя для привязки, которая обеспечивает более высокий уровень гибкости при управлении привязками. Данное имя добавляется к конструктору привязки, и на него можно сослаться с помощью метода <tt>getName()</tt> привязки.</li>
            <li><b>Режим обновления. </b> Указывается способ синхронизации свойств. Возможны следующие значения: 
                <ul>
                    <li><b>Всегда синхр. (чтение/запись).</b> При каждом внесении изменения в исходный или целевой элемент, другой элемент обновляется.</li>
                    <li><b>Только чтение из источника (только чтение).</b> Целевой элемент обновляется только при первом задании исходного значения. Изменения, внесенные в источник, отражаются в целевом объекте. Изменения, внесенные в целевой объект, не отражаются в источнике.</li>
                    <li><b>Чтение из источника один раз (чтение один раз).</b> Целевой элемент обновляется только при исходной привязке целевого и исходного элементов.</li>
            </ul></li>
            <li><b>Update Source When (&quot;Обновить источник когда&quot;) </b>(доступно только для свойства <tt>text</tt> компонентов JTextField и JTextArea). Позволяет выбрать частоту синхронизации свойств.
            </li>
            <li><b>Ignore Adjusting (&quot;Игнорировать подстройку&quot;)</b> (доступно свойству <tt>value</tt> JSlider; свойству <tt>selectedElement</tt> JTable и JList; а также свойству <tt>selectedElements</tt> JTable и JList).  Если установлен этот флажок, то изменения, внесенные в одно из свойств, не отражаются другим свойством, пока пользователь не завершит вносить изменение. Например, когда пользователь приложения перетаскивает ползунок, значение свойства, к которому привязано свойство ползунка<tt>value</tt>, обновляется только тогда, когда пользователь отпускает кнопку мыши.
            </li>
            <li><b>Средство преобразования.</b> Если привязка включает в себя свойства с различными типами данных, вы можете указать код для преобразования значений между типами. Библиотека привязок компонентов обрабатывает многие часто используемые преобразования, но для других комбинаций типов свойств может быть необходимо предоставить собственные преобразователи. Такие преобразователи должны расширять класс <tt>org.jdesktop.beansbinding.Converter</tt>.
                <p>Выпадающий список Converter (&quot;Преобразователь&quot;) перечисляет преобразователи, которые были добавлены как компоненты к создаваемой форме. Код преобразования также можно добавить напрямую, нажав кнопку многоточия (...) и выбрав Custom Code (&quot;Пользовательский код&quot;) из выпадающего списка Select Converter Property Using (&quot;Выбрать преобразователь, используемый свойством&quot;).</p>
                <p>Ниже приведен список преобразований, для которых не нужно специального преобразователя:</p>
                <ul>
                    <li>BigDecimal в String, String в BigDecimal</li>
                    <li>BigInteger в String, String в BigInteger</li>
                    <li>Boolean в String, String в Boolean</li>
                    <li>Byte в String, String в Byte</li>
                    <li>Char в String, String в Char</li>
                    <li>Double в String, String в Double</li>
                    <li>Float в String, String в Float</li>
                    <li>Int в String, String в Int</li>
                    <li>Long в String, String в BigDecimal</li>
                    <li>Short в String, String в Short</li>
                    <li>Int в Boolean, Boolean в Int</li>
                </ul>
            </li>
            <li><b>Средство проверки. </b> Позволяет указать код для проверки изменения целевого значения свойства перед распространением этого изменения обратно к свойству источника. Например, средство проверки можно использовать, чтобы убедиться, что значение целочисленного свойства находится в определенном диапазоне.
                <p>Средства проверки должны расширять класс <tt>org.jdesktop.beansbinding.Validator</tt>. <br>В раскрывающемся списке Validator (&quot;Средство проверки&quot;) перечислены средства проверки, которые добавлены как компоненты к создаваемой форме. Код проверки также можно добавить напрямую, нажав кнопку многоточия (...) и выбрав Custom Code (&quot;Особый код&quot;) из раскрывающегося списка Select Converter Property Using (&quot;Выбрать средство проверки, используемое свойством&quot;).</p></li>
            <li><b>Исходное значение Null. </b> Позволяет задавать другое значение для использования, если исходное свойство имеет значение <tt>null</tt> при привязке. Данное поле соотносится с методом <tt>setSourceNullValue()</tt> класса <tt>org.jdesktop.beansbinding.Binding</tt>.</li>
            <li><b>Недоступное для чтения исходное значение. </b> Позволяет задавать другое значение для использования, если выражение привязки нельзя разрешить при выполнении привязки. Данное поле соотносится с методом <tt>setSourceUnreadableValue()</tt> класса <tt>org.jdesktop.beansbinding.Binding</tt>.</li>
        </ul>
        <p class="notes"><b>Примечание.</b> Чтобы лучше понять классы и методы, упомянутые выше, можно получить доступ к документации по Javadoc привязок компонентов Beans напрямую из IDE. Выберите Help (&quot;Справка&quot;) &gt; Javadoc (&quot;Ссылки на документацию Java&quot;) &gt; Beans Binding (&quot;Привязка компонентов&quot;).  В открывшемся окне браузера щелкните <tt>org.jdesktop.beansbinding</tt>, чтобы получить доступ к документации для этих классов.</p>

        <a name="data-binding"></a>
        <h2>Привязка данных к компонентам</h2>

        <p>Помимо синхронизации свойств визуальных компонентов Swing и прочих пользовательских компонентов, привязку компонентов можно использовать с целью упрощения использования визуальных компонентов для взаимодействия с базой данных. После того как новая форма Java создана и к ней добавлены компоненты, можно создать код, привязывающий эти компоненты к данным. В данном разделе показано, как выполнить привязку данных к компонентам Swing JTable, JList и JComboBox.</p>
        <p>Перед привязкой компонента к данным из базы данных необходимо выполнить следующие действия:</p>
        <ul>
            <li>Подключить базу данных к среде IDE.</li>
            <li>Создать классы, представляющие таблицы данных, к которым надо выполнить привязку. Действия по созданию сущностных классов для привязки данных к компонентам приведены ниже.</li>
        </ul>
       

        <div class="indent">
            <h3>Создание сущностных классов</h3>
            <!--TODO verbiage on creating of entity classes; stuff about foreign keys-->
            <p><b>Чтобы создать сущностные классы для представления таблицы, которая будет привязана к JTable, выполните следующие действия.</b></p>
            <ol>
                <li>В окне 'Проекты' щелкните правой кнопкой мыши проект и выберите 'Создать' > 'Другие', выберите категорию 'Сохраняемость' и выберите 'Классы сущностей' в шаблоне 'База данных'. </li>
                <li>На странице Database Tables (&quot;Таблицы базы данных&quot;) мастера выберите подключение к базе данных.</li>
                <li>После того как столбец Available Tables (&quot;Доступные таблицы&quot;) заполнен, выберите таблицы, которые следует использовать в приложении, и нажмите кнопку Add (&quot;Добавить&quot;), чтобы переместить их в столбец Selected Tables (&quot;Выбранные таблицы&quot;).  Нажмите кнопку &quot;Далее&quot;.
                   					<p class="align-center">
		<a href="../../../images_www/articles/80/java/gui-binding/entity-wizard1.png" rel="lytebox" title="Выбраны таблицы CUSTOMER и DISCOUNT_CODE"> <img alt="Выбраны таблицы CUSTOMER и DISCOUNT_CODE" border="1" src="../../../images_www/articles/80/java/gui-binding/entity-wizard1-small.png"></a></p>
                </li>
                <li>На странице мастера Entity Classes (&quot;Сущностные классы&quot;) убедитесь, что установлены флажки Generate Named Query Annotations for Persistent Fields (&quot;Создать аннотации именованных запросов для полей &quot;) и Create Persistence Unit (&quot;Создать блок сохранения состояния&quot;).
				<p class="align-center">
		<a href="../../../images_www/articles/80/java/gui-binding/entity-wizard2.png" rel="lytebox" title="Страница &apos;Классы сущностей&apos; мастера создания классов сущностей на основе баз данных."> <img alt="Страница &apos;Классы сущностей&apos; мастера создания классов сущностей на основе баз данных." border="1" src="../../../images_www/articles/80/java/gui-binding/entity-wizard2-small.png"></a></p></li>
                <li>Внесите любые необходимые изменения в имена и местоположение созданных классов.                    
                </li>
                <li>Нажмите кнопку &quot;Завершить&quot;.
                <p>Узлы для сущностных классов можно будет увидеть в окне Projects (&quot;Проекты&quot;).</p></li>
            </ol>
            <h3>Привязка компонентов к компонентам, представляющим данные</h3>
            <p>В данном разделе показано, как можно выполнить привязку данных к компонентам Swing JTable, JList и JComboBox.</p>
            <p><b>Чтобы добавить таблицу базы данных к форме и автоматически создать JTable для отображения содержимого таблицы базы данных, выполните следующие действия.</b></p>
            <ol>
                <li>Откройте окно &quot;Services&quot;.</li>
                <li>Подключитесь к базе данных, содержащей таблицу, которую следует добавить к форме. (Для подключения к базе данных щелкните правой кнопкой мыши узел для подключения к базе данных и выберите 'Подключение').
				<p class="notes"><b>Примечание.</b> В этом учебном курсе используется тестовая база данных <tt>sample [app on App]</tt>. Для подключения к этой базе данных откройте окно 'Службы', разверните узел 'Базы данных', щелкните правой кнопкой мыши узел подключения к базе данных (<tt>jdbc:derby://localhost:1527/sample[app on APP]</tt>) и выберите пункт 'Подключение' в контекстном меню.<br> При появлении соответствующего запроса укажите значение <tt>app</tt> в качестве идентификатора пользователя и то же значение <tt>app</tt> в качестве пароля. </p>
                </li>
                <li>Разверните узел для подключения и разверните его узел Tables (&quot;Таблицы&quot;).</li>
                <li>Перетащите узел для таблицы на форму и нажмите клавишу Ctrl при завершении перетаскивания таблицы.
                    <p>Будет создана таблица JTable, и ее столбцы будут привязаны к столбцам в таблице базы данных.</p></li>
            </ol>

            <p><b>Чтобы привязать таблицу базы данных к существующему компоненту JTable, выполните следующие действия.</b></p>
            <ol>
                <li>Щелкните правой кнопкой мыши компонент в конструкторе графических интерфейсов и выберите Bind (&quot;Привязка&quot;) &gt; elements (&quot;элементы&quot;).
				<p class="align-center">
		<a href="../../../images_www/articles/80/java/gui-binding/bind-dialog-table.png" rel="lytebox" title="Выбранные значения в диалоговом окне &amp;quot;Привязка&amp;quot;."> <img alt="Выбранные значения в диалоговом окне &amp;quot;Привязка&amp;quot;." border="1" src="../../../images_www/articles/80/java/gui-binding/bind-dialog-table-small.png"></a></p></li>
                <li>Нажмите кнопку Import Data to Form (&quot;Импортировать данные в форму&quot;).  В диалоговом окне Import Data to Form (&quot;Импортировать данные в форму&quot;) выберите таблицу данных, к которой следует привязать свои компоненты. Нажмите кнопку &quot;ОК&quot;.</li>
                <li>Из поля со списком Binding Source (&quot;Источник привязки&quot;) выберите элемент, представляющий результирующий список сущностного класса. Например, если сущностный класс называется <tt>Customer.java</tt>, объект списка будет создан как <tt>customerList</tt>.
				<p class="align-center">
		<a href="../../../images_www/articles/80/java/gui-binding/source-selected.png" rel="lytebox" title="Выбран источник привязки"> <img alt="Выбран источник привязки" border="1" src="../../../images_www/articles/80/java/gui-binding/source-selected-small.png"></a></p>
				</li>
                <li>Значением выражения привязки оставьте <tt>null</tt>.</li>
                <li>При наличии столбцов баз данных, которые не следует включать в JTable, выберите эти столбцы в списке Selected (&quot;Выбранные&quot;) и переместите их в список Available (&quot;Доступные&quot;).</li>
                <li>Выберите вкладку Advanced (&quot;Дополнительные&quot;) для расширенной настройки привязки.  Там, например, можно указать средство проверки или преобразователь, либо поведение в случае, если источник привязки не читается или имеет значение null.</li>
                <li>Нажмите кнопку &quot;ОК&quot;.</li>
            </ol>
            <p><b>Для привязки данных к компоненту JList выполните следующие действия.</b></p>
            <ol>
                <li>Щелкните правой кнопкой мыши компонент в конструкторе графических интерфейсов и выберите Bind (&quot;Привязка&quot;) &gt; elements (&quot;элементы&quot;).</li>
                <li>Нажмите кнопку Import Data to Form (&quot;Импортировать данные в форму&quot;).  В диалоговом окне Import Data to Form (&quot;Импортировать данные в форму&quot;) выберите таблицу данных, к которой следует привязать свои компоненты. Нажмите кнопку &quot;ОК&quot;.</li>
                <li>Из поля со списком Binding Source (&quot;Источник привязки&quot;) выберите элемент, представляющий результирующий список сущностного класса. Например, если сущностный класс называется <tt>Customer.java</tt>, объект списка будет создан как <tt>customerList</tt>.
				<p class="align-center">
		<a href="../../../images_www/articles/80/java/gui-binding/jlist-binding.png" rel="lytebox" title="Выбран источник привязки"> <img alt="Выбран источник привязки" border="1" src="../../../images_www/articles/80/java/gui-binding/jlist-binding-small.png"></a></p></li>
                <li>Значением выражения привязки оставьте <tt>null</tt>.</li>
                <li>В раскрывающемся списке Display Expression (&quot;Отображаемое выражение&quot;) выберите свойство, представляющее столбец базы данных, содержащий значения, которые необходимо отобразить в списке.</li>
                <li>Выберите вкладку Advanced (&quot;Дополнительные&quot;) для расширенной настройки привязки.  </li>
                <li>Нажмите кнопку &quot;ОК&quot;.</li>

            </ol>

            <p><b>Для привязки данных к компоненту JComboBox выполните следующие действия.</b></p>
            <ol>
                <li>Щелкните правой кнопкой мыши поле со списком и выберите &quot;Bind &gt; elements&quot;.</li>
                <li>Нажмите кнопку Import Data to Form (&quot;Импортировать данные в форму&quot;).  В диалоговом окне Import Data to Form (&quot;Импортировать данные в форму&quot;) выберите таблицу данных, к которой следует привязать свои компоненты. Нажмите кнопку &quot;ОК&quot;.</li>
                <li>Из поля со списком Binding Source (&quot;Источник привязки&quot;) выберите элемент, представляющий результирующий список сущностного класса. Например, если сущностный класс называется <tt>Customer.java</tt>, объект списка будет создан как <tt>customerList</tt>.
				<p class="align-center">
		<a href="../../../images_www/articles/80/java/gui-binding/combo-binding.png" rel="lytebox" title="Выбран источник привязки"> <img alt="Выбран источник привязки" border="1" src="../../../images_www/articles/80/java/gui-binding/combo-binding-small.png"></a></p></li>
                <li>Оставьте значением Binding Expression (&quot;Выражение привязки&quot;) <tt>null</tt> и нажмите кнопку &quot;OК&quot;.</li>
                <li>Вновь щелкните правой кнопкой мыши поле со списком и выберите &quot;Bind &gt; selectedItem&quot;.</li>
                <li>Выполните привязку к свойству, на котором должен сказываться выбор пользователя 
				<p class="align-center"><img alt="Выбран источник привязки" border="1" src="../../../images_www/articles/80/java/gui-binding/combo-item.png"></p></li>
				<li>Нажмите кнопку &quot;ОК&quot;, чтобы сохранить изменения.</li>
            </ol>

            <p>У библиотеки привязки компонентов (версии 1.2.1 и более ранних) нет класса DetailBinding, позволяющего указать, как следует извлекать <i>отображаемые</i> значения для JComboBox. Так что необходимо будет написать немного собственного кода. Одним из подходов является написание собственного визуализатора ячеек, как показано ниже.</p>
            <p><b>Чтобы правильно визуализировать поле со списком, выполните следующие действия.</b></p>
            <ol>
                <li>Выберите поле со списком.</li>
                <li>На вкладке Properties (&quot;Свойства&quot;) окна Properties выберите свойство визуализатора.</li>
                <li>Нажмите кнопку со многоточием (...).</li>
                <li>В поле со списком наверху редактора свойств выберите Custom Code (&quot;Особый код&quot;).</li>
                <li>В области текста введите код, подобный следующему (где <code>jComboBox1</code> является именем экземпляра JComboBox, <code>MyEntityClass</code> является сущностным классом, а <code>getPropertyFromMyEntityClass()</code> является методом получения для свойства в сущностном классе, привязка которого выполняется).</li>
            </ol>

            <pre>jComboBox1.setRenderer(new DefaultListCellRenderer() {
           @Override
           public Component getListCellRendererComponent(
                   JList list, Object value, int index, boolean isSelected, boolean cellHasFocus) {
               super.getListCellRendererComponent(list, value, index, isSelected, cellHasFocus);
               if (value instanceof MyEntityClass) {
                   MyEntityClass mec = (MyEntityClass)value;
                   setText(mec.getPropertyFromMyEntityClass());
               }
               return this;
           }
            })</pre>
         <p class="align-center">
		<a href="../../../images_www/articles/80/java/gui-binding/custom.png" rel="lytebox" title="Пользовательский визуализатор ячеек"> <img alt="Пользовательский визуализатор ячеек" border="1" src="../../../images_www/articles/80/java/gui-binding/custom-small.png"></a></p>
            <p class="notes"><b>Примечание.</b> Также можно создать нестандартный визуализатор в его собственном исходном файле, скомпилировать файл, перетащить визуализатор в форму, а затем настроить свойство визуализатора поля со списком для использования этого компонента Bean.</p>

        </div>
        <a name="prop-synth"></a>
        <h2>Специальные свойства привязок</h2>

        <p>При необходимости библиотека привязки компонентов предоставляет специальные синтетические свойства для некоторых компонентов Swing, которые отсутствуют в самих компонентах. Эти свойства представляют такие элементы, как  выбранная строка таблицы, которые полезны для привязки к другим свойствам.</p>

        <p>Ниже приведен список синтетических свойств, добавленных библиотеками привязки компонентов:</p>
        <table border="1" cellpadding="5" cellspacing="0">
            <tr class="align-left" class="valign-top">
                <th scope="col">Элемент</th>
                <th scope="col">Свойство</th>
                <th scope="col">Описание</th>
            </tr>
            <tbody>
                <tr>
                    <td>AbstractButton</td>
                    <td>выбрано</td>
                    <td>Выбранное состояние кнопки. </td>
                </tr>
                <tr>
                    <td>JComboBox</td>
                    <td>selectedItem</td>
                    <td>Выбранный элемент JComboBox.</td>
                </tr>
                <tr>
                    <td rowspan="2">JSlider</td>
                    <td>значение</td>
                    <td>Значение JSlider; уведомляет обо всех изменениях.</td>
                </tr>
                <tr>
                    <td>value_IGNORE_ADJUSTING</td>
                    <td>То же, что и &quot;value&quot;, но не уведомляет об изменениях, пока ползунок меняет свое значение.</td>
                </tr>
                <tr>
                    <td rowspan="4">JList</td>
                    <td>selectedElement</td>
                    <td>Выбранный элемент JList; уведомляет обо всех изменениях. При наличии привязки JListBinding, где JList является целевым объектом, о выбранном элементе сообщается как об элементе из списка источников привязки. В ином случае о выбранном элементе сообщается как об объекте из модели списка. Если не выбрано ничего, результатом свойства является <tt>null</tt>. </td>
                </tr>
                <tr>
                    <td>selectedElements</td>
                    <td>Список, содержащий выбранные элементы JList; уведомляет обо всех изменениях. При наличии привязки JListBinding, где JList является целевым объектом, о выбранных элементах сообщается как об элементах из списка источников привязки. В ином случае о выбранных элементах сообщается как об объектах из модели списка. Если не выбрано ничего, результатом свойства является пустой список. </td>
                </tr>
                <tr>
                    <td>selectedElement_IGNORE_ADJUSTING</td>
                    <td>То же, что и &quot;selectedElement&quot;, но не уведомляет об изменении, пока обновляется выбор из списка.</td>
                </tr>
                <tr>
                    <td>selectedElements_IGNORE_ADJUSTING</td>
                    <td>То же, что и &quot;selectedElements&quot;, но не уведомляет об изменении, пока обновляется выбор из списка.</td>
                </tr>
                <tr>
                    <td rowspan="4">JTable</td>
                    <td>selectedElement</td>
                    <td>Выбранный элемент JTable; уведомляет обо всех изменениях. При наличии привязки JTableBinding, где JTable является целевым объектом, о выбранном элементе сообщается как об элементе из списка источников привязки. В ином случае о выбранном элементе сообщается как о сопоставлении, ключи которого состоят из строки &quot;column&quot; и индекса столбцов, а значения являются значениями модели для данного столбца. Пример: {column0=column0value, column1=column1value, ...} Если не выбрано ничего, результатом свойства является <tt>null</tt>. </td>
                </tr>
                <tr>
                    <td>selectedElements</td>
                    <td>Список, содержащий выбранные элементы JTable; уведомляет обо всех изменениях. При наличии привязки JTableBinding, где JTable является целевым объектом, о выбранных элементах сообщается как об элементах из списка источников привязки. В ином случае о каждом выбранном элементе сообщается как о сопоставлении, ключи которого состоят из строки &quot;column&quot; и индекса столбцов, а значения являются значениями модели для данного столбца. Пример: {column0=column0value, column1=column1value, ...} Если не выбрано ничего, результатом свойства является пустой список.
                    </td>
                </tr>
                <tr>
                    <td>selectedElement_IGNORE_ADJUSTING</td>
                    <td>То же, что и &quot;selectedElement&quot;, но не уведомляет об изменении, пока обновляется выбор из таблицы. </td>
                </tr>
                <tr>
                    <td>selectedElements_IGNORE_ADJUSTING</td>
                    <td>То же, что и &quot;selectedElements&quot;, но не уведомляет об изменении, пока обновляется выбор из таблицы.</td>
                </tr>
                <tr>
                    <td rowspan="3">JTextComponent (включая его подклассы JTextField, JTextArea и JEditorPane)</td>
                    <td>text</td>
                    <td>Свойство текста JTextComponent; уведомляет обо всех изменениях (включая ввод).</td>
                </tr>
                <tr>
                    <td>text_ON_FOCUS_LOST</td>
                    <td>Свойство текста JTextComponent; уведомляет об изменении только после потери фокуса.
                    </td>
                </tr>
                <tr>
                    <td>text_ON_ACTION_OR_FOCUS_LOST</td>
                    <td>Свойство текста JTextComponent; уведомляет об изменении, только когда компонент уведомляет о выполнении действия (actionPerformed) или после потери фокуса.
                    </td>
                </tr>
            </tbody>
        </table>

        <div class="feedback-box">
            <a href="/about/contact_form.html?to=3&amp;subject=Feedback:%20Binding%20Beans%20and%20Data%20in%20Java%20Applications">Отправить отзыв по этому учебному курсу</a>
        </div>
        <br style="clear:both;">

        <h2>Дополнительные сведения</h2>
		<ul>
		<li><a href="http://www.oracle.com/pls/topic/lookup?ctx=nb8000&id=NBDAG2649">Работа с приложениями баз данных и привязка компонентов</a> в документе <i>Разработка приложений в IDE NetBeans</i></li>
        <li><a href="gui-functionality.html">Введение в разработку графического интерфейса </a></li>
        <li><a href="http://java.net/projects/beansbinding/" target="_blank">Привязка компонентов - Java.net</a></li>
        <li><a href="http://docs.oracle.com/javase/tutorial/javabeans/index.html" target="_blank">Учебная карта по JavaBeans(tm) учебного курса по Java</a></li>
        <li><a href="http://wiki.netbeans.org/NetBeansUserFAQ#GUI_Editor_.28Matisse.29" target="_blank">Часто задаваемые вопросы по GUI Builder</a></li>
		</ul>
    </body>
</html>
