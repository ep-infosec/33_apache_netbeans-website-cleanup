<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <meta name="author" content="troy.giunipero@sun.com">
        <meta http-equiv="content-type" content="text/html; charset=UTF-8">
        <meta name="description" content="This document provides basic setup instructions necessary to configuring your development environment for use with the NetBeans E-commerce Tutorial.">

        <meta name="keywords" content="NetBeans, IDE, integrated development environment,
            Java, Java EE, open source, web technology, e-commerce">

        <link rel="stylesheet" type="text/css" href="../../../../netbeans.css">
        <link rel="stylesheet" type="text/css" href="../../../../print.css" media="print">

        <title>NetBeans Eコマースのチュートリアル - 設定に関する説明</title>
    </head>

    <body>

<!-- Copyright (c) 2009, 2010, Oracle and/or its affiliates. All rights reserved. -->

        <h1>NetBeans Eコマースのチュートリアル - 設定に関する説明</h1>

        <div style="margin-left:-3px">
            <div class="feedback-box margin-around float-left" style="margin-right:15px">

                <h4>チュートリアルの目次</h4>

                <ol>
                    <li><a href="intro.html">概要</a></li>
                    <li><a href="design.html">アプリケーションの設計</a></li>
                    <li><a href="setup-dev-environ.html">開発環境の設定</a></li>
                    <li><a href="data-model.html">データ・モデルの設計</a></li>
                    <li><a href="page-views-controller.html">ページ・ビューおよびコントローラ・サーブレットの準備</a></li>
                    <li><a href="connect-db.html">データベースへのアプリケーションの接続</a></li>
                    <li><a href="entity-session.html">エンティティ・クラスおよびセッションBeanの追加</a></li>
                    <li><a href="manage-sessions.html">セッションの管理</a></li>
                    <li><a href="transaction.html">トランザクション・ビジネス・ロジックの統合</a></li>
                    <li><a href="language.html">言語サポートの追加</a></li>
                    <li><a href="security.html">アプリケーションの保護</a></li>
                    <li><a href="test-profile.html">テストとプロファイリング</a></li>
                    <li><a href="conclusion.html">まとめ</a></li>
                </ol>
            </div>
        </div>

        <p><img alt="このページの内容は、NetBeans IDEバージョン6.8および6.9に適用されます" class="stamp" src="../../../../images_www/articles/68/netbeans-stamp-68-69.png" title="このページの内容は、NetBeans IDEバージョン6.8および6.9に適用されます"></p>

        <p>前のユニットを完了せずにチュートリアル・ユニットの先に進む場合は、いくつかの予備手順を実行して開発環境を設定する必要があります。</p>

         <ol style="margin:5px 0 0 320px">
            <li><strong>MySQLデータベース・サーバーを設定します。</strong><a href="setup-dev-environ.html#communicate">データベース・サーバーとの通信</a>で説明されている手順に従います。</li>

            <li><strong><code>affablebean</code>スキーマをデータベース・サーバーで作成し、データベースにサンプル・データを生成します。</strong>

                <ol style="margin: 5px 0 0 -1.5em">
                    <li><a href="https://netbeans.org/projects/samples/downloads/download/Samples%252FJavaEE%252Fecommerce%252Faffablebean.sql">affablebean.sql</a>をクリックし、ファイルのすべての内容をコピー([Ctrl]-[C]、Macの場合は[⌘]-[C])します。</li>

                    <li>IDEのSQLエディタを開きます。「サービス」ウィンドウ([Ctrl]-[5]、Macの場合は[⌘]-[5])で、<code>affablebean</code>データベース接続(<img alt="「データベース」接続ノード" src="../../../../images_www/articles/73/javaee/ecommerce/common/db-connection-node.png">)ノードを右クリックし、「コマンドの実行」を実行します。<br><img alt="「サービス」ウィンドウ - 「コマンドの実行」メニュー・オプション" class="margin-around b-all" src="../../../../images_www/articles/73/javaee/ecommerce/setup/execute-command.png" title="接続ノードから「コマンドの実行」を選択してIDEのSQLエディタを開く"><br> IDEのSQLエディタが開きます。</li>

                    <li><code>affablebean.sql</code>ファイルのすべての内容をエディタに貼り付けます([Ctrl]-[V]、Macの場合は[⌘]-[V])。</li>

                    <li>エディタのツールバーにある「SQLの実行」(<img alt="「SQLの実行」ボタン" src="../../../../images_www/articles/73/javaee/ecommerce/common/run-sql-btn.png">)ボタンをクリックします。スクリプトがMySQLサーバーで実行されます。データベースの表が生成され、サンプル・データが<code>product</code>表および<code>category</code>表に追加されます。</li>
                </ol></li>

            <li><strong>接続プールおよびJDBCリソースをGlassFishで作成します。</strong>

                <ol style="margin: 5px 0 0 -1.5em">
                    <li>「サービス」ウィンドウ([Ctrl]-[5]、Macの場合は[⌘]-[5])で「サーバー」>「GlassFish Server 3」ノードを展開し、「プロパティ」を選択します。表示される「サーバー」ウィンドウで「JDBCドライバのデプロイメントを有効化」オプションが選択されていることを確認します。プロジェクトで<a href="http://www.mysql.com/downloads/connector/j/" target="_blank">MySQL Connector/J</a>ドライバが必要な場合は、このオプションによって、プロジェクトがデプロイされたときにドライバがGlassFishにデプロイされるようになります。サーバーがすでに実行されている場合、サーバーを再起動する必要はありません。</li>

                    <li>「サービス」ウィンドウで「GlassFish Server 3」ノードを右クリックし、「起動」を選択します。</li>

                    <li>サーバーが実行されたら、「GlassFish Server 3」ノードを右クリックして、「管理コンソールを表示」を選択します。</li>

                    <li>コンソールにログインします(デフォルトのユーザー名/パスワードは<code>admin/adminadmin</code>)。</li>

                    <li>管理コンソールの左側にあるツリーで「リソース」>「JDBC」ノードを展開し、「接続プール」ノードをクリックします。</li>

                    <li>「接続プール」インタフェースで「新規」ボタンをクリックし、次の詳細を入力します。

                        <ul style="margin: 5px 0 0 -1em">
                            <li><strong>名前:</strong> <code>AffableBeanPool</code></li>
                            <li><strong>リソース・タイプ:</strong> <code>javax.sql.ConnectionPoolDataSource</code></li>
                            <li><strong>データベース・ベンダー:</strong> <code>MySql</code></li>
                        </ul>

                        <img alt="GlassFish管理コンソール - 「接続プール」インタフェース" class="margin-around b-all" src="../../../../images_www/articles/73/javaee/ecommerce/setup/connection-pool.png" title="MySQLデータベースと接続する接続プールを作成するための設定の指定"></li>

                    <li>「次」をクリックします。デフォルトをすべて受け入れ、「終了」をクリックします。</li>

                    <li>「接続プール」インタフェースで、新しく作成した<code>AffableBeanConnectionPool</code>をクリックし、「一般」タブで次の変更を加えます。

                        <ul style="margin: 5px 0 0 -1em">
                            <li><strong>データ・ソース・クラス名:</strong> <code>com.mysql.jdbc.jdbc2.optional.MysqlDataSource</code></li>
                        </ul>

                        <img alt="GlassFish管理コンソール - 「接続プール」インタフェース" class="margin-around b-all" src="../../../../images_www/articles/73/javaee/ecommerce/setup/datasource-classname.png" style="width:638px" title="接続プールのデータソース・クラス名の設定"></li>

                    <li>「保存」をクリックします。</li>

                    <li>「追加プロパティ」タブをクリックし、次の3つのプロパティが設定されていることを確認します。他のプロパティが一覧表示されている場合があります。これらはデフォルト設定ですが、次の3つを手動で設定する必要があります。

                        <ul style="margin: 5px 0 0 -1em">
                            <li><strong>ユーザー:</strong> <code>root</code></li>
                            <li><strong>パスワード: </strong><code>nbuser</code></li>
                            <li><strong>URL:</strong> <code>jdbc:mysql://localhost:3306/affablebean</code></li>
                        </ul>

                        <img alt="GlassFish管理コンソール - 「接続プール」インタフェース" class="margin-around b-all" src="../../../../images_www/articles/73/javaee/ecommerce/setup/additional-properties.png" style="width:638px" title="データベースのユーザー名、パスワードおよびURLの設定"></li>

                    <li>「保存」をクリックします。</li>

                    <li>「一般」タブで「Ping」をクリックします。pingが成功したことを示すメッセージが表示されます。これで、<code>AffableBeanPool</code>接続プールはMySQLデータベース・サーバーに接続できます。<br><img alt="GlassFish管理コンソール - 「接続プール」インタフェース" class="margin-around b-all" src="../../../../images_www/articles/73/javaee/ecommerce/setup/ping-succeeded.png" style="width:638px" title="MySQLサーバーに対してpingを実行し、接続プールが接続できるかどうかを判断する"></li>

                    <li>管理コンソールの左の列にあるツリーで「リソース」>「JDBC」ノードを展開し、「JDBCリソース」ノードをクリックします。「JDBCリソース」インタフェースがメイン・ウィンドウに表示されます。</li>
                    
                    <li>「新規」ボタンをクリックして新しいJDBCリソースを作成し、次の詳細を入力します。
                    
                        <ul style="margin: 5px 0 0 -1em">
                            <li><strong>JNDI名:</strong> <code>jdbc/affablebean</code></li>
                            <li><strong>プール名:</strong> <code>AffableBeanPool</code></li>
                        </ul>

                        <img alt="GlassFish管理コンソール - 「JDBCリソース」インタフェース" class="margin-around b-all" src="../../../../images_www/articles/73/javaee/ecommerce/setup/jdbc-resource.png" title="JNDI名および接続プールを指定してJDBCリソースを作成する"></li>

                    <li>「OK」をクリックします。</li>
                </ol>
            </li>
        </ol>

        <p style="margin-left:27em">MySQLサーバーが設定され、IDEの「サービス」ウィンドウからそのサーバーに接続できます。<code>affablebean</code>という名前のデータベースを作成し、そのデータベースの<code>product</code>表および<code>category</code>表にサンプル・データを生成しました。次に、GlassFishサーバーを起動し、接続プールを作成して、そのサーバーが<code>affablebean</code>データベースに接続できるようにしました。最後に、JDBCリソースを作成し、アプリケーションがそのリソースを使用してサーバーの接続プールを参照できるようにしました。</p>

        <p style="margin-left:27em">これで、チュートリアル・ユニットに用意されている任意のプロジェクトのスナップショットを開いて実行できます。</p>

        <div class="feedback-box">
            <a href="/about/contact_form.html?to=3&amp;subject=Feedback: NetBeans E-commerce Tutorial - Setup Instructions">ご意見をお寄せください</a></div>

        <br style="clear:both;">

    </body>
</html>
