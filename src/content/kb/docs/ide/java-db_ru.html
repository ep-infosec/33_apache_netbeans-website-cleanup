<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--
Copyright (c) 2009, 2010, 2011, Oracle and/or its affiliates. All rights reserved.
-->

<html>
    <head>
        <meta http-equiv="content-type" content="text/html; charset=UTF-8">
        <meta name="description" content="This introductory tutorial demonstrates 
            how to work with the Java DB (Derby) database in NetBeans IDE">
        <meta name="keywords" content="NetBeans, IDE, integrated development environment, 
            database, derby, Java, relational database management system, RDBMS, Apache,
            transaction processing, SQL, JDBC">
        
        <link rel="stylesheet" type="text/css" href="../../../netbeans.css">
        <script type="text/javascript" src="../../../images_www/js/window_opener.js"></script>
        
        <title>Работа с базой данных Java DB (Derby) - учебный курс по IDE NetBeans</title>

</head>
    
    <body>
        <h1>Работа с базой данных Java DB (Derby)</h1>

        <p>Вь этом документе описывается настройка соединения с базой данных <a href="http://www.oracle.com/technetwork/java/javadb/overview/index.html">Java&nbsp;DB</a> в IDE NetBeans. По завершении установки подключения можно начинать работу с базой данных в среде IDE, позволяющей создавать таблицы, заполнять их данными, выполнять операторы и запросы SQL и т.д.</p>
        
        <p>База данных Java DB является поддерживаемым корпорацией Sun дистрибутивом <a href="http://db.apache.org/derby/">Apache Derby</a>.  Java DB - полностью транзакционный безопасный сервер базы данных на основе стандартов, написанный целиком на языке Java, полностью поддерживающий технологии SQL, интерфейс API JDBC и Java EE. База данных Java DB поставляется с сервером приложений <a href="http://glassfish.dev.java.net/">GlassFish </a>, а также включена в пакет <a href="http://download.oracle.com/javase/6/">JDK 6</a>.  Дополнительные сведения о базе данных Java DB приведены в <a href="http://www.oracle.com/technetwork/java/javadb/documentation/index.html">официальной документации</a>.</p>

            <p><strong>Содержание</strong></p>

         <img alt="Содержимое на этой странице применимо к IDE NetBeans 7.2, 7.3, 7.4 и 8.0" class="stamp" src="../../../images_www/articles/73/netbeans-stamp-80-74-73.png" title="Содержимое этой страницы применимо к IDE NetBeans 7.2, 7.3, 7.4 и 8.0">

        <ul class="toc">
            <li><a href="#configuring">Настройка базы данных</a></li>
            <li><a href="#registering">Регистрация базы данных в IDE NetBeans</a></li>
            <li><a href="#starting">Запуск сервера и создание базы данных</a></li>
            <li><a href="#connecting">Подключение к базе данных</a></li>
            <li><a href="#creating">Создание таблиц</a></li>
            <li><a href="#adding">Добавление данных в таблицу</a></li>
            <li><a href="#deleting">Удаление таблиц</a></li>
            <li><a href="#using">Использование внешнего сценария SQL</a></li>
            <li><a href="#recreating">Восстановление таблиц из различных баз данных</a></li>
            <li><a href="#seeAlso">Дополнительные сведения</a></li>
        </ul>            
        
        <p><strong>Для работы с этим учебным курсом требуется следующее программное обеспечение и ресурсы.</strong></p>

        <table>
            <tbody>
                <tr>
                    <th class="tblheader" scope="col">Программное обеспечение или материал</th>
                    <th class="tblheader" scope="col">Требуемая версия</th>
                </tr> 
                <tr>
                    <td class="tbltd1"><a href="https://netbeans.org/downloads/index.html">IDE NetBeans</a></td>
                    <td class="tbltd1">7.2, 7.3, 7.4, 8.0, Java EE</td>
                </tr>
                <tr>
                    <td class="tbltd1"><a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">Комплект для разработчика на языке Java (JDK)</a></td>
                    <td class="tbltd1">Версия 7 или 8</td>
                </tr>
                <tr>
                    <td class="tbltd1">Java DB</td>
                    <td class="tbltd1">версии 10.4.x, 10.5.x</td>
                </tr>
            </tbody>
        </table>
        
        <p><strong class="notes">Примечание.</strong></p>
        <ul>
            <li>Java DB был установлен при установке JDK 7 или JDK 8 (за исключением Mac OS X). При использовании Mac OS X можно загрузить и установить <a href="http://www.oracle.com/technetwork/java/javadb/downloads/index.html">базу данных&nbsp;Java</a> вручную или использовать базу данных Java, установленную с помощью версии Java EE средства установки IDE NetBeans.</li>
        </ul>

        <a name="configuring"></a>
        <h2>Настройка базы данных</h2>
        
        <p>При регистрации сервера GlassFish Server в установленной среде IDE NetBeans база данных Java DB также будет зарегистрирована. Для получения дополнительных сведений обратитесь к разделу <a href="#starting">Запуск сервера и создание базы данных</a>. </p>
        <p>Если сервер GlassFish загружен отдельно, и требуется помощь в регистрации его в среде IDE NetBeans, ознакомьтесь со справкой по среде IDE (F1), раздел <strong>Регистрация экземпляра сервера GlassFish</strong>. </p>
        <p>Если вы только что самостоятельно загрузили Java DB, выполните следующие действия.</p>
        <ol>
            <li>Выполните самораспаковывающийся файл.  В месте хранения файла будет создана папка javadb.  Если требуется, чтобы сервер базы данных находился не в той папке, в которую он был извлечен, его необходимо переместить сразу по завершении загрузки Java DB.</li>
            <li>Создайте в системе новый каталог для использования в качестве домашнего каталога для отдельных экземпляров сервера базы данных.  Например, можно создать эту папку в корневом каталоге базы данных Java DB (javadb) или в другой папке.</li>
        </ol>
        
        <p>Перед продолжением работы необходимо изучить компоненты, расположенные в корневом каталоге Java DB.</p>
        
        <ul>
            <li>Подкаталог <tt>demo</tt> содержит демонстрационные версии программ.</li>
            <li>Подкаталог <tt>bin</tt> содержит сценарии для выполнения служебных программ и настройки среды.</li>
            <li>Подкаталог <tt>javadoc</tt> содержит документацию по интерфейсу API, созданную из комментариев исходного кода.</li>
            <li>Подкаталог <tt>docs</tt> содержит документацию по Java DB.</li>
            <li>Подкаталог <tt>lib</tt> содержит архивы JAR базы данных Java DB.</li>
        </ul>
        
        <a name="registering"></a>
        <h2>Регистрация базы данных в IDE NetBeans</h2>
        
        <p>Теперь, после настройки базы данных, выполните следующие шаги для регистрации Java DB в среде IDE.</p>
        
        <ol>
            <li>В окне 'Службы' щелкните правой кнопкой мыши узел базы данных DB Database и выберите 'Свойства', чтобы открыть диалоговое окно 'Настройки &nbsp;DB Java'.</li>
            <li>В текстовое поле &quot;Установка Java DB&quot; введите путь к корневому каталогу Java DB (javadb), указанный в предыдущем шаге.</li>
            <li>В качестве местоположения базы данных используйте местоположение по умолчанию, если оно предлагается.  Нажмите кнопку &quot;OK&quot;.
                <p>Например, на компьютере под управлением Windows местоположение по умолчанию может иметь следующий вид: <tt>C:\Documents and Settings\username\.netbeans-derby</tt>.</p>
                
                <img alt="Диалоговое окно &apos;Настройки базы данных Java&apos; " class="margin-around b-all" src="../../../images_www/articles/72/ide/java-db/javadb-props.png" title="пример настроек по умолчанию сервера и базы данных Java DB">
                <p class="notes"><strong>Примечание.</strong> Если поле 'Расположение базы данных' пустое необходимо указать путь к каталогу, который содержит базы данных. Если каталога нет, для баз данных потребуется создать каталог.</p>
            </li>
        </ol>

        <a name="starting"></a>
        <h2>Запуск сервера и создание базы данных</h2>
        
        <p>Параметры меню базы данных Java&nbsp;DB отображаются при щелчке правой кнопкой мыши узла Java DB в окне 'Службы'. Появившиеся пункты контекстного меню позволяют запускать сервер базы данных и останавливать его работу, создавать новые экземпляры базы данных, а также регистрировать серверы базы данных в среде IDE (как описано в предыдущем действии). Запуск сервера базы данных.</p>
        
        <ol>
            <li>В окне 'Службы' щелкните правой кнопкой мыши узел Java&nbsp;DB и выберите 'Запустить сервер'. Обратите внимание на следующую информацию, выведенную в окне &quot;Вывод&quot; и сообщающую о запуске сервера:<br> <img alt="Окно &apos;Результаты&apos; отображается после запуска сервера баз данных" class="margin-around b-all" src="../../../images_www/articles/72/ide/java-db/output-start-db.png">
            </li>
            <li>Правой кнопкой мыши щелкните узел Java DB и выберите &quot;Создать базу данных&quot;, чтобы открыть диалоговое окно &quot;Создание базы данных DB&quot;.</li>
            <li>В качестве имени базы данных введите <tt>contact</tt>.</li>
            <li>В качестве имени пользователя и пароля введите <tt>nbuser</tt>.  Нажмите кнопку &quot;ОК&quot;.<br> <img alt="Диалоговое окно создания базы данных Java DB" class="margin-around b-all" src="../../../images_www/articles/72/ide/java-db/javadb-createdb.png">
                <p class="notes"><strong>Примечание.</strong> Поле &quot;Расположение базы данных&quot; указан путь по умолчанию, определенный во время установки Java DB из GlassFish.  Если база данных Java DB установлена отдельно, это местоположение может быть другим.</p>
            </li>
        </ol>
        <p>После создания базы данных при развертывании узла 'Базы данных' в окне 'Службы', можно увидеть, что среда IDE создала соединение с базой данных и что база данных была добавлена в список под узлом Java DB.</p>
         
        <a name="connecting"></a>
        <h2>Подключение к базе данных</h2>
        
        <p>Итак, сервер базы данных успешно запущен, и в среде IDE создан экземпляр базы данных с именем <tt>contact</tt>. В окне 'Службы' в IDE вы можете выполнять следующие общие задачи в структурах баз данных.</p>
            
            <ul>
                <li>создание, удаление, изменение таблиц;</li>
                <li>заполнение таблиц данными;</li>
                <li>просмотр табличных данных;</li>                                
                <li>выполнение операторов SQL и запросов.</li>
            </ul>
            
        <p>Для начала работы с базой данных <tt>contact</tt>необходимо создать подключение к ней. Для соединения с базой данных <tt>контактов</tt> выполните следующие шаги.</p>

        <ol>
            <li>Разверните узел 'Базы данных' в окне 'Службы' и найти новую базу данных и узлы подключения к базе данных.
                <p>Узел подключения к базе данных ( <img alt="значок узла подключения" src="../../../images_www/articles/72/ide/java-db/connection-node-icon.png">) отображается ниже узла 'Базы данных'. Имя базы данных отображается ниже узла Java DB.</p>
               
                <img alt="база данных контактов в окне &apos;Службы&apos;" class="margin-around b-all" src="../../../images_www/articles/72/ide/java-db/services-window.png"><br>
                <p class="notes"><strong>Примечание.</strong> Также отобразится соединение с базой данных <code>образец [app on APP]</code>, которое является схемой базы данных по умолчанию.</p>
          
            <li><p> Щелкните правой кнопкой мыши узел подключения к базе данных <strong>контактов</strong> (<tt>jdbc:derby://localhost:1527/contact [nbuser on NBUSER]</tt>) и выберите команду &quot;Подключить&quot;.</p>
            Отобразится весь значок узла подключения ( <img alt="значок узла подключения" src="../../../images_www/articles/72/ide/java-db/connection-node-icon.png">), что означает, что соединение установлено успешно.                </li>
            
          <li>Задайте удобное отображаемое имя для базы данных, щелкнув правой кнопкой мыши узел подключения к базе данных (<tt>jdbc:derby://localhost:1527/contact [nbuser on NBUSER]</tt>) и выберите 'Переименовать'. В текстовом поле введите <tt>Contact DB</tt> и нажмите кнопку &quot;ОК&quot;.</li>
        </ol>		

        <a name="creating"></a>
        <h2>Создание таблиц</h2>        
        
        <p>Созданная база данных <tt>contact</tt> в настоящее время пуста.  Она еще не наполнена таблицами или данными.  В IDE NetBeans можно добавить таблицу баз данных либо с помощью диалогового окна 'Создать таблицу' или путем ввода оператора SQL и запуска его напрямую из редактора SQL. Можно использовать оба метода:</p>
        
        <ul>
            <li><a href="#createTable">Использование диалогового окна &quot;Создание таблицы&quot;</a></li>
            <li><a href="#sqlEditor">Использование редактора SQL</a></li>
        </ul>

        <div class="indent">
            <a name="createTable"></a>
            <h3>Использование диалогового окна &quot;Создание таблицы&quot;</h3>    

            <ol>
                <li>
              <p>Разверните узел подключения <tt>Contact DB</tt> и обратите внимание, что он имеет несколько подузлов.  В этом учебном курсе рассматривается схема &quot;app&quot;. Щелкните правой кнопкой мыши узел &quot;APP&quot; и выберите &quot;Установить как схему по умолчанию&quot;.</li>
                <li>Разверните узел APP и обратите внимание, что он имеет три подкаталога: &quot;Таблицы&quot;, &quot;Представления&quot; и &quot;Процедуры&quot;.  Правой кнопкой мыши щелкните узел 'Таблицы' и выберите 'Создать таблицу', чтобы открыть диалоговое окно 'Создание таблицы'.</li>
                <li>Введите <tt>FRIENDS</tt> в текстовое поле &quot;Имя таблицы&quot;.</li>
                <li>Нажмите кнопку &quot;Добавить столбец&quot;.  Появится диалоговое окно &quot;Добавить столбец&quot;. </li>
                <li>В поле &quot;Имя столбца&quot; введите <tt>id</tt>.  В поле &quot;Тип данных&quot; выберите элемент <tt>INTEGER</tt> в раскрывающемся списке.  </li>
                <li>При определенных обстоятельствах может потребоваться установить флажок &quot;Первичный ключ&quot; для указания того, что данный столбец является первичным ключом для таблицы.  Все таблицы, созданные в реляционных базах данных, должны содержать первичный ключ. Обратите внимание, что при выборе флажка &quot;Первичный ключ&quot; выполняется автоматическая установка флажков &quot;Индекс&quot; и &quot;Уникальный&quot;, а флажок &quot;Значение отсутствует&quot; при этом снимается. Это объясняется тем, что первичные ключи используются для определения уникальной строки базы данных и по умолчанию применяются как индекс таблицы. Поскольку все строки должны быть определены, первичные ключи не могут иметь значение <tt>Null</tt>.<br> <img alt="Добавление столбцов к таблице" class="margin-around b-all" src="../../../images_www/articles/72/ide/java-db/add-column.png"></li>
                <li>Теперь повторите эту процедуру, определив поля, как показано на таблице ниже.</li>
                <li>
                  <table class="margin-around">
                    <tr>
                      <th class="tblheader" scope="col">Ключ</th>
                      <th class="tblheader" scope="col">Индекс</th>
                      <th class="tblheader" scope="col">Значение отсутствует</th>
                      <th class="tblheader" scope="col">Уникальный</th>
                      <th class="tblheader" scope="col">Имя таблицы</th>
                      <th class="tblheader" scope="col">Тип данных</th>
                      <th class="tblheader" scope="col">Размер</th>
                    </tr>
                    <tr>
                      <td class="tbltd1">[установлен]</td>
                      <td class="tbltd1">[установлен]</td>
                      <td class="tbltd1"></td>
                      <td class="tbltd1">[установлен]</td>
                      <td class="tbltd1">идентификатор</td>
                      <td class="tbltd1">INTEGER</td>
                      <td class="tbltd1">0</td>
                    </tr>
                    <tr>
                      <td class="tbltd1"></td>
                      <td class="tbltd1"></td>
                      <td class="tbltd1">[установлен]</td>
                      <td class="tbltd1"></td>
                      <td class="tbltd1">firstName</td>
                      <td class="tbltd1">VARCHAR</td>
                      <td class="tbltd1">20</td>
                    </tr>
                    <tr>
                      <td class="tbltd1"></td>
                      <td class="tbltd1"></td>
                      <td class="tbltd1">[установлен]</td>
                      <td class="tbltd1"></td>
                      <td class="tbltd1">lastName</td>
                      <td class="tbltd1">VARCHAR</td>
                      <td class="tbltd1">20</td>
                    </tr>
                    <tr>
                      <td class="tbltd1"></td>
                      <td class="tbltd1"></td>
                      <td class="tbltd1">[установлен]</td>
                      <td class="tbltd1"></td>
                      <td class="tbltd1">nickName</td>
                      <td class="tbltd1">VARCHAR</td>
                      <td class="tbltd1">30</td>
                    </tr>
                    <tr>
                      <td class="tbltd1"></td>
                      <td class="tbltd1"></td>
                      <td class="tbltd1">[установлен]</td>
                      <td class="tbltd1"></td>
                      <td class="tbltd1">friendSince</td>
                      <td class="tbltd1">DATE</td>
                      <td class="tbltd1">0</td>
                    </tr>
                    <tr>
                      <td class="tbltd1"></td>
                      <td class="tbltd1"></td>
                      <td class="tbltd1">[установлен]</td>
                      <td class="tbltd1"></td>
                      <td class="tbltd1">эл. почта</td>
                      <td class="tbltd1">VARCHAR</td>
                      <td class="tbltd1">60</td>
                    </tr>
                  </table>
                  <p>В создаваемой таблице <tt>FRIENDS</tt> для каждой записи контакта содержатся следующие данные:</p>
                  <ul>
                    <li><strong>имя;</strong></li>
                    <li><strong>фамилия;</strong></li>
                    <li><strong>псевдоним;</strong></li>
                    <li><strong>дата включения в список контактов;</strong></li>
                    <li><strong>адрес электронной почты.</strong></li>
                  </ul>
                  <img alt="Диалоговое окно &apos;Создать таблицу&apos; с выбранными полями для таблицы контактов" class="margin-around b-all" src="../../../images_www/articles/72/ide/java-db/create-table-friends.png"></li>
                    
                <li><p>Если диалоговое окно &quot;Создание таблицы&quot; содержит значения, идентичные вышеописанным, нажмите кнопку &quot;ОК&quot;.  В IDE создается таблица <tt>FRIENDS</tt> в базе данных и отображается новый узел таблицы <tt>FRIENDS</tt> (<img alt="Значок узла подключения к базе данных" src="../../../images_www/articles/72/ide/java-db/table-node.png">) ниже узла 'Таблицы'. Под узлом таблицы перечислены столбцы (поля), начиная с первичного ключа (<img alt="значок узла первичного ключа" src="../../../images_www/articles/72/ide/java-db/primary-key-icon.png">).</p>

                    
                    <img alt="Таблица FRIENDS отображается в окне &apos;Службы&apos;" class="margin-around b-all" src="../../../images_www/articles/72/ide/java-db/friends-table.png"></li>
            </ol>

        <a name="sqlEditor"></a>
            <h3>Использование редактора SQL</h3>                   

            <ol>
                <li>В окне 'Службы' либо щелкните правой кнопкой мыши узел подключения <tt>Contact DB</tt> или узел 'Таблицы' под ним и выберите пункт 'Выполнить команду'. В главном окне редактора SQL отобразится пустой холст.</li>
                <li>Введите в редактор SQL запрос, как описывается ниже.  Определение создаваемой таблицы COLLEAGUES:

                <pre class="examplecode">CREATE TABLE &quot;COLLEAGUES&quot; (
    &quot;ID&quot; INTEGER not null primary key,
    &quot;FIRSTNAME&quot; VARCHAR(30),
    &quot;LASTNAME&quot; VARCHAR(30),
    &quot;TITLE&quot; VARCHAR(10),
    &quot;DEPARTMENT&quot; VARCHAR(20),
    &quot;EMAIL&quot; VARCHAR(60)
);</pre>

                    <p class="notes"><strong>Примечание </strong> Операторы и запросы, сформированные в редакторе SQL, анализируются в соответствии с нормами языка структурированных запросов (Structured Query Language, SQL). Для SQL характерны строгие синтаксические правила, применяемые также при работе с редактором среды IDE.  Синтаксис SQL также может быть различаться в зависимости от системы управления базами данных. Дополнительные сведения приведены в <a href="http://www.oracle.com/technetwork/java/javadb/documentation/index.html">Справочном пособии по JavaDB</a>.
                    </p></li>

                <li>Нажмите кнопку 'Выполнить SQL' (<img alt="Кнопка &apos;Выполните SQL&apos;" src="../../../images_www/articles/72/ide/java-db/run-sql-button.png">) на панели задач в верхней части редактора (Ctrl-Shift-E) для выполнения запроса. В окне &quot;Вывод&quot; (CTRL+4) будет выведено сообщение об успешном выполнении оператора.<br> <img alt="Окно &apos;Результаты&apos;, указывающее на успешное выполнение" class="margin-around b-all" src="../../../images_www/articles/72/ide/java-db/run-query.png"></li>

                <li>Для проверки изменений щелкните правой кнопкой мыши узел подключения <tt>Contact DB</tt> в окне 'Службы' и выберите 'Обновить'. В результате этого действия будет произведено обновление компонента пользовательского интерфейса среды выполнения до текущего состояния указанной базы данных.  Этот шаг необходим при запуске запросов из редактора SQL в IDE NetBeans. Обратите внимание, что новый зузел таблицы COLLEAGUES (<img alt="Значок узла подключения к базе данных" src="../../../images_www/articles/72/ide/java-db/table-node.png">) теперь отображается ниже 'Таблицы' в окне 'Службы'.</li>
            </ol>
        </div>

        <a name="adding"></a>
        <h2>Добавление данных в таблицу</h2>     

        <p>После того, когда в базе данных <tt>contact</tt> уже создана одна или несколько таблиц, можно начинать заполнять их данными.  Существует несколько способов добавления записей в таблицу:</p>
        <ul>
          <li><a href="#sqlstatement">Запишите в редакторе SQL оператор SQL</a>, который предоставляет значение для каждого поля в схеме таблицы. </li>
          <li><a href="#usesqleditor">Используйте редактор SQL</a> для добавления записей в таблицу.</li>
          <li><a href="#using">Используйте внешний сценарий SQL</a> для импорта записей в таблицу. </li>
        </ul>
        <p>Для получения сведений об использовании всех описанных методов заполнения таблицы <tt> FRIENDS</tt> данными обратитесь к указанным ниже разделам.  </p>
        <h3><a name="sqlstatement"></a>Выполнение оператора SQL </h3>
        <ol>
            <li>Разверните 'Таблицы' под узлом <tt>Contact DB</tt> в окне 'Службы', щелкните правой кнопкой мыши таблицу <tt>FRIENDS</tt> и выберите 'Выполнить команду', чтобы открыть окно редактора SQL.</li>
            <li>Введите в окне редактора SQL следующий оператор:
              <pre class="examplecode">INSERT INTO APP.FRIENDS VALUES (1,'Theodore','Bagwell','T-Bag','2004-12-25','tbag@foxriver.com')</pre>
              <p class="tips">При вводе можно использовать функцию автозавершения кода редактора SQL.</p>
            </li>

            <li>Щелкните правой кнопкой мыши в пространстве внутри редактора SQL и выберите команду &quot;Выполнить оператор&quot;.  В окне &quot;Вывод&quot; появится сообщение об успешном выполнении оператора.</li>

            <li>Чтобы убедиться, что новая запись была добавлена к таблице <tt>FRIENDS</tt> щелкните правой кнопкой мыши узел таблицы <tt>FRIENDS</tt> в окне 'Службы' и выберите 'Просмотреть данные'.
                <p>При выборе команды &quot;Просмотреть данные&quot; на верхней панели редактора SQL автоматически создается запрос на выбор всех данных таблицы. На нижней панели редактора SQL выводятся выходные данные оператора. В этом случае таблица <tt>FRIENDS</tt> будет отображена на нижней панели.  Обратите внимание, что новая строка была добавлена с данными, предоставленными в операторе SQL.</p>

              
          <img alt="новая запись добавлена к таблице FRIENDS" class="margin-around b-all" src="../../../images_www/articles/72/ide/java-db/new-record.png"></li>
        </ol>

        <h3><a name="usesqleditor"></a>Использование редактора SQL </h3>
        <ol>
          <li>Щелкните правой кнопкой мыши узел таблицы <tt>FRIENDS</tt> и выберите &quot;Просмотреть данные&quot; (если просмотр не был выполнен в последнем действии предыдущего раздела). </li>
          <li>Нажмите кнопку &quot;Вставить записи&quot; (<tt>ALT+I</tt>) для добавления строки.<br> Появится диалоговое окно &quot;Вставить записи&quot;.</li>
          <li>Щелкните каждую ячейку и введите записи.  Обратите внимание, что для ячеек с типом данных срока можно выбрать дату из календаря.  Нажмите кнопку &quot;ОК&quot; после выполнения действия. <br> <img alt="новые записи добавлены к таблице FRIENDS" class="margin-around b-all" src="../../../images_www/articles/72/ide/java-db/insert-records.png"><br> В редакторе SQL можно отсортировать результаты, щелкнув заголовок строки, изменить и удалить существующие записи, а также просмотреть сценарий SQL для действий, выполняемых в редакторе (команда &quot;Показать сценарий SQL&quot; во всплывающем меню). </li>
        </ol>
        <h2><a name="deleting"></a> Удаление таблиц
        </h2>
        <p>В следующем действии потребуется использование внешнего сценария SQL для создания новой таблицы <tt>COLLEAGUES</tt>. При этом в предыдущем действии раздела <tt>Использование редактора SQL</tt> уже была создана таблица <a href="#sqlEditor">COLLEAGUES</a>.  Чтобы убедиться в возможности создавать новые таблицы при помощи сценария SQL, можно удалить существующую таблицу <tt>COLLEAGUES</tt>. Для удаления таблицы баз данных выполните следующие действия:</p>
            
        <ol>
            <li>Разверните узел 'Таблицы' под узлом соединения с базой данных в окне 'Службы'.</li>
            <li>Щелкните правой кнопкой мыши таблицу, которую необходимо удалить, и выберите команду &quot;Удалить&quot;.</li>
        </ol>
 
        <h2><a name="using"></a>Использование внешнего сценария SQL</h2>
        <p>Ввод команд из внешнего сценария SQL является распространенным способом управления базой данных.  Возможно, сценарий SQL уже создан в другом местоположении и требуется выполнить его импорт в IDE NetBeans для запуска в указанной базе данных.</p>
        
        <p>В этом упражнении сценарий создаст новую таблицу с именем <tt>COLLEAGUES</tt> и заполнит ее данными. Произведите следующие действия, чтобы запустить сценарий в базе данных <tt>контактов</tt>.</p>
        
        <ol>
            <li>Загрузите <a href="https://netbeans.org/project_downloads/usersguide/colleagues.sql" target="_blank">colleagues.sql</a> в локальную систему. </li>
            <li>В главном меню среды IDE выберите &quot;Файл&quot; &gt; &quot;Открыть&quot;.  В браузере файлов перейдите к месту хранения файла <tt>colleagues.sql</tt> и нажмите &quot;Открыть&quot;.  Сценарий автоматически откроется в редакторе SQL.
                <p class="tips">В качестве альтернативы вы можете скопировать содержимое <a href="https://netbeans.org/project_downloads/usersguide/colleagues.sql" target="_blank">colleagues.sql</a>, а затем открыть редактор SQL и вставить содержимое файла в редактор SQL.</p>
            </li>
            <li>Убедитесь, что подключение к базе данных <tt>Contact DB</tt> в раскрывающемся списке &quot;Подключение&quot; на панели инструментов в верхней части редактора выбрано.<br> <img alt="Раскрывающийся список &apos;Подключение&apos; на панели инструментов редактора SQL" class="margin-around b-all" src="../../../images_www/articles/72/ide/java-db/conn-drop-down.png"></li> 
            
            <li>Нажмите кнопку 'Выполнить SQL' (<img alt="Кнопка &apos;Выполните SQL&apos;" src="../../../images_www/articles/72/ide/java-db/run-sql-button.png">) на панели инструментов редактора SQL. Сценарий будет выполнен для выбранной базы данных, возвращаемые данные будут выведены в окне &quot;Вывод&quot;.</li>
            
            <li>Для проверки изменений щелкните правой кнопкой мыши узел подключения <tt>Contact DB</tt> в окне 'Службы' и выберите 'Обновить'. Обратите внимание, что новая таблица <tt>COLLEAGUES</tt> сценария SQL теперь отображена в виде узла таблицы <tt>contact</tt> в окне &quot;Службы&quot;.</li>
            
            <li>Для просмотра данных. содержащихся в новой таблице, щелкните правой кнопкой мыши таблицу <tt>COLLEAGUES</tt> и выберите 'Просмотреть данные'. Таким образом можно сравнить данные в таблицах с данными сценария SQL, чтобы убедиться в их соответствии.</li>
        </ol>
        
        <h2><a name="recreating"></a> Восстановление таблиц из различных баз данных
        </h2>
        <p>При наличии таблицы из другой базы данных, которую необходимо повторно создать в базе данных, с которой пользователь работает из IDE NetBeans, среда IDE обеспечивает для этой задачи удобный инструмент. Для начала потребуется наличие второй базы данных, зарегистрированной в среде IDE, как описывается в начале учебного курса.  Для работы в рамках данного учебного курса используйте <tt>пример</tt> базы данных, входящий в пакет Java DB.  Этот процесс выполняется в два этапа: сначала необходимо &quot;захватить&quot; определение выбранной таблицы, а потом восстановить таблицу в выбранной базе данных.</p>
            
        <ol>
            <li>Подключитесь к базе данных <tt>sample</tt> щелкнув правой кнопкой мыши узел подключения под узлом 'Базы данных' в окне 'Службы' и выберите 'Подключение' (имя пользователя и пароль: <tt>app</tt>).</li>           
            <li>
                <p>Разверните узел 'Таблицы' под подключением к базе данных <tt>sample</tt>, щелкните правой кнопкой мыши узел таблицы <tt>CUSTOMER</tt> и выберите 'Копировать структуру'.</p>
            
                
                <img alt="Элемент меню &apos;Копировать структуру&apos;, отображаемый в окне &apos;Службы&apos;" class="margin-around b-all" src="../../../images_www/articles/72/ide/java-db/grab-structure.png"></li> 
 
            <li>В открывшемся диалоговом окне &quot;Сохранение таблицы&quot; укажите путь для сохранения создаваемого файла захвата на компьютере.  Нажмите кнопку &quot;Сохранить&quot;. 
                <p>Определение выбранной таблицы будет записано в файл захвата.</p></li>
            <li>Разверните узел схемы APP в подключении к базе данных <tt>Contact DB</tt>, щелкните правой кнопкой мыши узел 'Таблицы' и выберите 'Повторно создайте таблицу', чтобы открыть открыть диалоговое окно 'Повторно создайте таблицу'.</li>
            <li><p>В открывшемся диалоговом окне &quot;Восстановление таблицы&quot; перейдите по пути хранения файла захвата <tt>CUSTOMER</tt>, скопируйте файл и нажмите кнопку &quot;Открыть&quot;, чтобы открыть диалоговое окно 'Именование таблицы'.</p>
               
                    <img alt="Задайте имя для диалогового окна &apos;Таблицы&apos;, одержащего определение таблицы для CUSTOMER" class="margin-around b-all" src="../../../images_www/articles/72/ide/java-db/recreate-table.png"></li> 
            <li>
              <p>В выведенном окне можно изменить имя таблицы или отредактировать ее определение.  Для немедленного создания таблицы в базе данных <tt>contact</tt> нажмите кнопку &quot;ОК&quot;.  Узел таблицы <tt>CUSTOMER</tt> отобразится под узлом подключения к базе данных <tt>Contact DB</tt>.</p>           
                
              
                <img alt="новый узел таблицы CUSTOMER отображается в окне &apos;Службы&apos;" class="margin-around b-all" src="../../../images_www/articles/72/ide/java-db/new-customer-node.png"></li>
        </ol>
        
        <p>Если просмотреть данные в новой таблице <tt>CUSTOMER</tt>, то будет видно, что в базе данных отсутствуют записи, но структура таблицы совпадает с скопированной таблицей.</p>
          
    <div class="feedback-box"><a href="/about/contact_form.html?to=3&amp;subject=Feedback:%20Working%20With%20Java%20DB">Мы ждем ваших отзывов</a></div>
        
        <br style="clear:both;">
            
        <a name="seeAlso"></a>
        <h2>Дополнительные сведения</h2>
        
        <p>Это заключительный раздел учебного курса по работе с базой данных Java DB (Derby).  В этом учебном курсе описывается настройка соединения с базой данных DB&nbsp;Java в IDE NetBeans. Также были описаны способы создания, просмотра, изменения и удаления таблиц в окне &quot;Службы&quot; среды IDE.  Кроме того, были представлены методы работы с редактором SQL для добавления данных в таблицы и использование возможностей среды IDE для восстановления таблиц при помощи определений из других баз данных.</p>
            
        <p>Более подробные учебные курсы представлены на следующих ресурсах:</p>
        
        <ul>
            <li><a href="mysql.html">Подключение к базе данных MySQL</a>.  Описывается настройка и подключение к базе данных MySQL в IDE NetBeans.</li>
            <li><a href="../web/mysql-webapp.html">Создание простого веб-приложения, использующего базу данных MySQL</a>.  Демонстрируется способ создания простого веб-приложения, устанавливающего подключение к серверу базы данных MySQL.</li>
            <li><a href="http://platform.netbeans.org/tutorials/nbm-crud.html">Учебный курс по приложению CRUD для платформы NetBeans.</a> В этом учебном курсе демонстрируется способ интеграции базы данных Java DB в приложение, работающее на платформе NetBeans.</li>
        </ul>
        
    </body>
</html>
